(function(e){function t(t){for(var o,n,s=t[0],l=t[1],c=t[2],d=0,m=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&m.push(r[n][0]),r[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],o=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(o=!1)}o&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var o={},r={app:0},i=[];function n(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=o,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"01f1":function(e,t,a){},"08ba":function(e,t,a){},1:function(e,t){},"17c7":function(e,t,a){"use strict";a("8235")},"19f6":function(e,t,a){"use strict";a("461f")},"1ba6":function(e,t,a){},"1da5":function(e,t,a){},2395:function(e,t,a){},3237:function(e,t,a){"use strict";a("fc69")},"3b71":function(e,t,a){"use strict";a("9b67")},"3bed":function(e,t,a){"use strict";a("3e7a")},"3e7a":function(e,t,a){},"461f":function(e,t,a){},"464a":function(e,t,a){"use strict";a("f547")},4942:function(e,t){var a=16;function o(){var e=document.documentElement.clientWidth/1519;document.documentElement.style.fontSize=a*Math.min(e,2)+"px"}o(),window.onresize=function(){o()}},"4cea":function(e,t,a){"use strict";a("8bda")},5092:function(e,t,a){"use strict";a("ee93")},5429:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},i=[],n={methods:{test:function(){this.$message.success("test")}}},s=n,l=(a("7c55"),a("2877")),c=Object(l["a"])(s,r,i,!1,null,null,null),u=c.exports,d=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-row",[a("el-col",{style:{height:e.app_height+"px",width:"15%"}},[a("Aside",{staticClass:"aside-style"})],1),a("el-col",{staticStyle:{width:"85%"}},[a("Main",{staticClass:"main-style"})],1)],1)],1)},h=[],p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"aside"},[a("el-row",{staticClass:"height_percent_100"},[a("el-col",{staticClass:"height_percent_100",attrs:{span:24}},[a("div",{staticClass:"aside-title"},[e._v("ERP系统")]),a("div",{staticClass:"user-container"},[a("el-row",{staticStyle:{width:"240px"}},[a("el-col",{attrs:{span:15}},[a("div",{staticStyle:{display:"inline-block","padding-left":"12px"}},[e._v(" 用户:"+e._s(this.userName)+" ")]),a("br"),a("span",{staticStyle:{"padding-left":"12px"}},[e._v(" 身份:"+e._s(this.userLevel))])]),a("div",{staticClass:"exit-container"},[a("el-link",{staticClass:"el-icon-s-custom",on:{click:e.exit}},[e._v("退出")])],1)],1)],1),a("el-menu",{staticClass:"aside-menu",attrs:{"default-active":this.$router.path,router:"","default-openeds":e.openeds,"text-color":"#fff","background-color":"#3c3f42","active-text-color":"#ffd04b"},on:{open:e.handleOpen,close:e.handleClose}},[a("el-submenu",{style:{display:"客户"==e.userLevel?"block":"none"},attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-promotion"}),a("span",{staticClass:"menu-title"},[e._v("一件代发")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/cusProductList"}},[e._v("货品清单")]),a("el-menu-item",{attrs:{index:"/onlyReadOutRecord"}},[e._v("出库记录")])],1)],2),a("el-submenu",{style:{display:"客户"==e.userLevel?"block":"none"},attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-refresh-right"}),a("span",{staticClass:"menu-title"},[e._v("中转")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/onlyReadProductCome"}},[e._v("货品入库")]),a("el-menu-item",{attrs:{index:"/onlyReadProductList"}},[e._v("货品清单")]),a("el-menu-item",{attrs:{index:"/onlyReadBoxCome"}},[e._v("箱子入库")]),a("el-menu-item",{attrs:{index:"/onlyReadBoxList"}},[e._v("箱子清单")])],1)],2),a("el-menu-item",{style:{display:"管理员"==e.userLevel?"block":"none"},attrs:{index:"/payCenter"}},[a("i",{staticClass:"el-icon-bank-card"}),a("span",{staticClass:"menu-title"},[e._v("费用中心")])]),a("el-menu-item",{style:{display:"管理员"==e.userLevel?"block":"none"},attrs:{index:"/customerManage"}},[a("i",{staticClass:"el-icon-user"}),a("span",{staticClass:"menu-title"},[e._v("客户管理")])]),a("el-menu-item",{style:{display:"管理员"==e.userLevel?"block":"none"},attrs:{index:"/possessSystem"}},[a("i",{staticStyle:{"padding-left":"5px","padding-right":"1rem","font-size":"19px"}},[e._v("$")]),a("span",{staticClass:"menu-title"},[e._v("财务系统")])]),a("el-menu-item",{style:{display:"管理员"==e.userLevel?"block":"none"},attrs:{index:"/outRecord"}},[a("i",{staticClass:"el-icon-s-order"}),a("span",{staticClass:"menu-title"},[e._v("出库记录")])]),a("el-menu-item",{style:{display:"管理员"==e.userLevel?"block":"none"},attrs:{index:"/orderCenter"}},[a("i",{staticClass:"el-icon-s-promotion"}),a("span",{staticClass:"menu-title"},[e._v("代发中心")])]),a("el-submenu",{style:{display:"管理员"==e.userLevel?"block":"none"},attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-goods"}),a("span",{staticClass:"menu-title"},[e._v("货品管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/productCome"}},[e._v("货品入库")]),a("el-menu-item",{attrs:{index:"/productList"}},[e._v("货品清单")]),a("el-menu-item",{attrs:{index:"/productOut"}},[e._v("货品出库")]),a("el-menu-item",{attrs:{index:"/productOutList"}},[e._v("出库清单")])],1)],2),a("el-submenu",{style:{display:"管理员"==e.userLevel?"block":"none"},attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-box"}),a("span",{staticClass:"menu-title"},[e._v("箱子管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/boxCome"}},[e._v("箱子入库")]),a("el-menu-item",{attrs:{index:"/boxList"}},[e._v("箱子清单")]),a("el-menu-item",{attrs:{index:"/boxOut"}},[e._v("箱子出库")]),a("el-menu-item",{attrs:{index:"/boxOutList"}},[e._v("出库清单")])],1)],2)],1)],1)],1)],1)},g=[],f={data:function(){return{userName:"",userLevel:"",openeds:[]}},methods:{handleOpen:function(e,t){this.openeds=[String(e)],console.log(e,t)},handleClose:function(e,t){console.log(e,t)},exit:function(){var e=this;this.$confirm("确定退出当前账号吗？").then((function(){sessionStorage.clear(),e.$router.push("/")})).catch((function(){}))}},created:function(){console.log(sessionStorage.getItem("userName")),null==sessionStorage.getItem("userName")&&null==sessionStorage.getItem("userLevel")?(this.$message.warning("请先登录用户"),this.$router.push("/")):(this.userName=sessionStorage.getItem("userName"),this.userLevel=sessionStorage.getItem("userLevel"))}},_=f,y=(a("17c7"),Object(l["a"])(_,p,g,!1,null,"6a2b6db0",null)),b=y.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},D=[],w={},S=w,x=Object(l["a"])(S,v,D,!1,null,"a842eca2",null),q=x.exports,F={name:"Home",components:{Aside:b,Main:q},data:function(){return{app_height:""}},mounted:function(){var e=this;e.app_height=.89*window.document.documentElement.offsetHeight,window.onresize=function(){e.app_height=.89*window.document.documentElement.offsetHeight}}},$=F,C=(a("6fb4"),Object(l["a"])($,m,h,!1,null,"36223046",null)),R=C.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-page"},[a("div",{staticClass:"login-container"},[a("div",{staticClass:"login-form login-form_opcity"},[a("div",{staticClass:"login-form_box"},[a("div",{staticClass:"login-welcome_string"},[e._v("欢迎登录")]),a("div",{staticClass:"login-welcome_underline"}),a("el-form",{ref:e.loginForm,attrs:{model:e.loginForm,rules:e.rules}},[a("el-row",{staticClass:"loginForm-input"},[a("el-col",{attrs:{span:24,offset:0}},[a("el-form-item",{attrs:{prop:"user"}},[a("el-input",{staticClass:"login-input_user",attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入用户名"},model:{value:e.loginForm.user,callback:function(t){e.$set(e.loginForm,"user",t)},expression:"loginForm.user"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24,offset:0}},[a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{staticClass:"login-input_pwd",attrs:{type:"password","prefix-icon":"el-icon-lock",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)],1)],1)],1),a("el-row",{staticClass:"transform-row",staticStyle:{"text-align":"right"}},[a("el-col",{staticClass:"check-label"},[a("el-radio",{attrs:{label:"管理员"},model:{value:e.checkFlag,callback:function(t){e.checkFlag=t},expression:"checkFlag"}},[e._v("管理员")]),a("el-radio",{attrs:{label:"客户"},model:{value:e.checkFlag,callback:function(t){e.checkFlag=t},expression:"checkFlag"}},[e._v("客户")])],1)],1),a("el-button",{staticClass:"login-button",on:{click:e.login}},[e._v("登录")])],1)])]),a("div",{staticClass:"beian"},[e._v("闽ICP备2021010384号-1")])])},P=[],O=a("dfbd"),T={data:function(){return{checkFlag:"管理员",url:"",loginForm:{user:"",password:""},rules:{user:[{required:!0,message:"请输入姓名！",trigger:"change"}],password:[{required:!0,message:"请输入密码！",trigger:"change"}]}}},methods:{showTip:function(){var e="查看详情";return e},login:function(){var e=this;""!=this.loginForm.user||""!=this.loginForm.password?""!=this.loginForm.user?""!=this.loginForm.password?("管理员"==this.checkFlag?this.url="/api/query/loginInUser":this.url="/api/query/loginInCustomer",console.log(this.url),this.$http({method:"post",url:this.url,data:{username:this.loginForm.user}}).then((function(t){console.log(e.url);var a=t.data[0];if(console.log(e.checkFlag),"管理员"==e.checkFlag){var o=e.loginForm.password,r=Object(O["decryptPwd"])(a.password);if(o!=r)return void e.$message.error("用户名或密码有误，请重新输入！")}if("客户"==e.checkFlag){var i=e.loginForm.password,n=a.auto_pwd;if(i!=n)return void e.$message.error("用户名或密码有误，请重新输入！")}0!=t.data.length?(e.$message.success("登录成功!"),setTimeout((function(){"管理员"==e.checkFlag?(sessionStorage.setItem("userName",t.data[0].username),sessionStorage.setItem("userId",t.data[0].id),sessionStorage.setItem("userLevel",t.data[0].level)):(sessionStorage.setItem("userName",t.data[0].customer_id),sessionStorage.setItem("userId","-"),sessionStorage.setItem("userLevel","客户")),e.$router.push("/home")}),200)):e.$message.error("用户名或密码有误，请重新输入！")})).catch((function(t){e.$message.error(t)}))):this.$message.warning("请输入密码!"):this.$message.warning("请输入账户!"):this.$message.warning("请输入账户以及密码!")}},mounted:function(){},created:function(){sessionStorage.clear()}},z=T,N=(a("6022"),Object(l["a"])(z,k,P,!1,null,"4d1b34a8",null)),j=N.exports,L=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},I=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("h1",[e._v("欢迎使用Erp海外仓系统")])])}],A={},B=A,E=Object(l["a"])(B,L,I,!1,null,null,null),V=E.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",{staticClass:"content-container"},[a("el-row",[a("el-col",{staticStyle:{width:"40%"}},[a("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请搜索客户编号或公司名称,空白查询所有"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1)],1),a("el-row",{staticStyle:{"padding-top":"5px"}},[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.queryResData_trading_pagination},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"100px"}}),a("el-table-column",{attrs:{align:"center",label:"客户编号",prop:"customer_id"}}),a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name"}}),a("el-table-column",{attrs:{align:"center",label:"交易日期",prop:"trading_date"}}),a("el-table-column",{attrs:{align:"center",label:"内容",prop:"trading_content"}}),a("el-table-column",{attrs:{align:"center",label:"金额",prop:"trading_amount"}}),a("el-table-column",{attrs:{align:"center",label:"转账状态",prop:"status"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[4,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData_trading.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-row",{staticClass:"padding_tb padding_lr",attrs:{type:"flex"}},[a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"add-btn",on:{click:e.addOpen}},[e._v("添加")])],1),a("el-col",{attrs:{span:18}},[a("el-button",{attrs:{type:"warning",disabled:e.isModify},on:{click:e.modifyOpen}},[e._v("修改")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"danger",disabled:e.isDel},on:{click:e.deleteSubmit}},[e._v("删除")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info",plain:""},on:{click:function(t){return e.toggleSelection()}}},[e._v("取消选择")])],1)],1)],1),a("el-dialog",{staticClass:"productPage-addForm",attrs:{"close-on-click-modal":!1,title:"-添加流水信息-",visible:e.addDV,width:"35%","before-close":e.handleClose},on:{"update:visible":function(t){e.addDV=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addRules,"label-width":"150px"}},[a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"customer_id",label:"客户编号:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.dialogQuerySearch,clearable:"",placeholder:"客编模糊查询"},model:{value:e.addForm.customer_id,callback:function(t){e.$set(e.addForm,"customer_id",t)},expression:"addForm.customer_id"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"trading_date",label:"日期:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-date-picker",{attrs:{"picker-options":e.pickerOption,type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd-HH-ss"},model:{value:e.addForm.trading_date,callback:function(t){e.$set(e.addForm,"trading_date",t)},expression:"addForm.trading_date"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"trading_content",label:"内容:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.trading_content,callback:function(t){e.$set(e.addForm,"trading_content",t)},expression:"addForm.trading_content"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"trading_amount",label:"收入/支出金额:",labelWidth:"160px"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.trading_amount,callback:function(t){e.$set(e.addForm,"trading_amount",t)},expression:"addForm.trading_amount"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"status",label:"转账状态:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-select",{model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-option",{attrs:{label:"已转账",value:"已转账"}}),a("el-option",{attrs:{label:"已充值",value:"已充值"}}),a("el-option",{attrs:{label:"未转账",value:"未转账"}}),a("el-option",{attrs:{label:"未充值",value:"未充值"}})],1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.checkCustomerId()}}},[e._v("提 交")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.addDV=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{staticClass:"productPage-addForm",attrs:{"close-on-click-modal":!1,title:"-修改货品信息-",visible:e.modifyDV,width:"35%","before-close":e.handleCloseModify},on:{"update:visible":function(t){e.modifyDV=t}}},[a("el-form",{ref:"modifyForm",attrs:{model:e.modifyForm,rules:e.modifyRules,"label-width":"150px"}},[a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"customer_id",label:"客户编号:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.dialogQuerySearch,clearable:"",placeholder:"客编模糊查询"},model:{value:e.modifyForm.customer_id,callback:function(t){e.$set(e.modifyForm,"customer_id",t)},expression:"modifyForm.customer_id"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"trading_date",label:"日期:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-date-picker",{attrs:{"picker-options":e.pickerOption,type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd-HH-ss"},model:{value:e.modifyForm.trading_date,callback:function(t){e.$set(e.modifyForm,"trading_date",t)},expression:"modifyForm.trading_date"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"trading_content",label:"内容:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.modifyForm.trading_content,callback:function(t){e.$set(e.modifyForm,"trading_content",t)},expression:"modifyForm.trading_content"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"trading_amount",label:"收入/支出金额:",labelWidth:"160px"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.modifyForm.trading_amount,callback:function(t){e.$set(e.modifyForm,"trading_amount",t)},expression:"modifyForm.trading_amount"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"status",label:"转账状态:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-select",{model:{value:e.modifyForm.status,callback:function(t){e.$set(e.modifyForm,"status",t)},expression:"modifyForm.status"}},[a("el-option",{attrs:{label:"已转账",value:"已转账"}}),a("el-option",{attrs:{label:"已充值",value:"已充值"}}),a("el-option",{attrs:{label:"未转账",value:"未转账"}}),a("el-option",{attrs:{label:"未充值",value:"未充值"}})],1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.modifySubmit()}}},[e._v("提 交")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.modifyDV=!1}}},[e._v("取 消")])],1)],1)],1)},U=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("费用中心")])])}],H=a("b85c");a("ac1f"),a("5319"),a("fb6a"),a("d3b7"),a("25f0"),a("159b");function Q(e){var t=e.indexOf("T"),a=e.indexOf("Z"),o=e.substr(0,t),r=e.substr(t+1,a-t-1),i=o+" "+r;n=new Date(Date.parse(i)),n=n.getTime(),n/=1e3;var n=n+28800,s=new Date(1e3*parseInt(n)).toLocaleString().replace(/年|月/g,"-").replace(/日/g," ");return s}function G(){var e=new Date,t="-",a=e.getFullYear(),o=e.getMonth()+1,r=e.getDate();o>=1&&o<=9&&(o="0"+o),r>=0&&r<=9&&(r="0"+r);var i=a+t+o+t+r;return i}var Y,K={data:function(){return{tableHeight:.65*window.innerHeight,times:0,timer:null,loading:!1,isDel:!0,isModify:!0,multipleSelection:[],solidSelection:[],today_date:"",pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}},addDV:!1,modifyDV:!1,tradingReqUrl:"",tradingReqData:{},leaveAmountReqUrl:"",leaveAmountReqData:{},rechargeReqUrl:"",rechargeReqData:{},locateReqUrl:"/api/query/getLocateCustomerId",locateReqData:{},nameTipsArray:[],formData:{customer_info:""},queryResData_leaveAmount:[],queryResData_recharge:[],queryResData_trading:[],customer_info_list:[],customer_id_list:[],addNameTipsArray:[],addForm:{customer_id:"",trading_date:"",trading_content:"",trading_amount:"",status:"",trading_code:""},modifyForm:{customer_id:"",trading_date:"",trading_content:"",trading_amount:"",status:"",trading_code:""},loutianForm:{customer_id:"客户编号",trading_date:"日期",trading_content:"内容",trading_amount:"收入/支出金额",status:"转账状态"},rules:{customer_info:[{message:"请输入客户信息",required:!0,trigger:["blur","change"]}]},addRules:{customer_id:[{message:"请输入客户编号",required:!0,trigger:["blur","change"]}],trading_date:[{message:"请选择转账时间",required:!0,trigger:["blur","change"]}],trading_content:[{message:"请输入交易内容",required:!0,trigger:["blur","change"]}],trading_amount:[{message:"请输入支出/收入金额",required:!0,trigger:["blur","change"]}],status:[{message:"请选择转账状态",required:!0,trigger:["blur","change"]}]},modifyRules:{customer_id:[{message:"请输入客户编号",required:!0,trigger:["blur","change"]}],trading_date:[{message:"请选择转账时间",required:!0,trigger:["blur","change"]}],trading_content:[{message:"请输入交易内容",required:!0,trigger:["blur","change"]}],trading_amount:[{message:"请输入支出/收入金额",required:!0,trigger:["blur","change"]}],status:[{message:"请选择转账状态",required:!0,trigger:["blur","change"]}]},queryPage:{pageSize:10,currentPage:1}}},methods:{handleClose:function(){this.addDV=!1},handleCloseModify:function(){this.modifyDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){0==e.length?(this.isDel=!0,this.isModify=!0):1==e.length?(this.isModify=!1,this.isDel=!1):(this.isModify=!0,this.isDel=!1),this.multipleSelection=e},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){this.getTrading()},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},dialogQuerySearch:function(e,t){if(""!=this.addForm.customer_id){var a=this.addNameTipsArray;t(a)}else t([{value:""}])},getTrading:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getTradingByName",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=s,r.trading_date=Q(r.trading_date).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,"")}}catch(l){o.e(l)}finally{o.f()}e.queryResData_trading=t.data}else e.queryResData_trading=[],e.$message.warning("查询结果为空")})).catch((function(t){e.$message.error(t)}))},refreshFormSearch:function(){this.refreshGetTrading()},refreshGetTrading:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getTradingByName",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=s,r.trading_date=Q(r.trading_date).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,"")}}catch(l){o.e(l)}finally{o.f()}e.queryResData_trading=t.data}else e.queryResData_trading=[]})).catch((function(t){e.$message.error(t)}))},insertTrading:function(){var e=this;this.$http({method:"post",url:"api/insert/insertTrading",data:this.addForm}).then((function(t){e.$message.success("添加成功!"),e.refreshGetTrading(),e.addDV=!1})).catch((function(e){}))},getData:function(){var e=this;this.$http({method:"post",url:"api/query/getTradingLocate",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},getDialogData:function(){var e,t=this;1==this.modifyDV?e=this.modifyForm.customer_id:1==this.addDV&&(e=this.addForm.customer_id),this.$http({method:"post",url:"api/query/getCustomerDialogLocate",data:{customer_info:e}}).then((function(e){if(t.customer_info_list=[],t.customer_id_list=e.data,""!=t.addForm.customer_id){t.addNameTipsArray=[];var a,o=[],r=Object(H["a"])(t.customer_id_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(t.addForm.customer_id)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;t.addNameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(e){t.$message.error(e)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)},addSubmit:function(){for(var e in this.addForm.trading_code=Math.random().toString(16).slice(2,15),this.addForm)if(""==this.addForm[e])return void this.$message.error("存在漏缺项:".concat(this.loutianForm[e]));this.insertTrading()},checkCustomerId:function(){var e=this;this.$http({method:"post",url:"api/query/getCustomerId",data:{customer_id:this.addForm.customer_id}}).then((function(t){0==t.data.length?e.$message.warning("不存在编号为".concat(e.addForm.customer_id,"的客户，请重新输入！")):e.addSubmit()})).catch((function(e){}))},addOpen:function(){0!=this.queryResData_leaveAmount.length&&(this.addForm.customer_id=this.queryResData_trading[0].customer_id),this.addDV=!0},modifyOpen:function(){this.modifyForm.customer_id=this.queryResData_trading[0].customer_id,this.modifyForm.trading_code=this.multipleSelection[0].trading_code,this.modifyForm.trading_amount=this.multipleSelection[0].trading_amount,this.modifyForm.trading_content=this.multipleSelection[0].trading_content,this.modifyForm.trading_date=this.multipleSelection[0].trading_date,this.modifyForm.status=this.multipleSelection[0].status,this.modifyDV=!0},modifySubmit:function(){for(var e in this.modifyForm)if(""==this.modifyForm[e])return void this.$message.error("存在漏缺项:".concat(this.loutianForm[e]));this.modifyTrading()},modifyTrading:function(){var e=this;this.$http({method:"post",url:"api/update/updateTrading",data:this.modifyForm}).then((function(t){e.$message.success("修改成功"),e.modifyDV=!1,e.refreshGetTrading()})).catch((function(e){}))},deleteTrading:function(e){var t=this,a={};a.trading_code=this.solidSelection[0].trading_code,a.customer_id=this.solidSelection[0].customer_id,this.$http({method:"post",url:"api/delete/deleteTrading",data:a}).then((function(e){t.refreshGetTrading()})).catch((function(e){t.$message.error(e)}))},deleteSubmit:function(){0!=this.multipleSelection.length&&(this.solidSelection=this.multipleSelection);while(0!=this.solidSelection.length)this.deleteTrading(),this.solidSelection.shift()},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()}},watch:{formData:{handler:function(e,t){this.debounce(this.getData,1e3)},deep:!0},addForm:{handler:function(e,t){this.debounce(this.getDialogData,1e3)},deep:!0},modifyForm:{handler:function(e,t){this.debounce(this.getDialogData,1e3)},deep:!0}},computed:{queryResData_trading_pagination:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData_trading.slice(e*(t-1),e*t)},queryResData_recharge_pagination:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData_recharge.slice(e*(t-1),e*t)}},mounted:function(){var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t,this.refreshFormSearch()},created:function(){"管理员"==sessionStorage.getItem("userLevel")||(this.$message.warning("你没有权限使用此功能!"),this.$router.push("/"))}},W=K,Z=(a("3237"),Object(l["a"])(W,M,U,!1,null,"ce714b4e",null)),J=Z.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",{staticClass:"content-container"},[a("el-row",[a("el-col",{staticStyle:{width:"43%"}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请搜索客户编号或公司名称,为空时查询所有"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"add-btn",on:{click:e.addOpen}},[e._v("录入信息")])],1)],1),a("el-row",{staticStyle:{"padding-top":"10px"}},[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"100px"}}),a("el-table-column",{attrs:{align:"center",label:"客户编号",prop:"customer_id"}}),a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name"}}),a("el-table-column",{attrs:{align:"center",label:"入库时间",prop:"come_time",width:"130px"}}),a("el-table-column",{attrs:{align:"center",label:"货品名称",prop:"product_name"}}),a("el-table-column",{attrs:{align:"center",label:"货品SKU",prop:"product_sku"}}),a("el-table-column",{attrs:{align:"center",label:"数量",prop:"storage_count"}}),a("el-table-column",{attrs:{align:"center",label:"仓储天数",prop:"save_days"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-row",{staticClass:"padding_tb padding_lr",attrs:{type:"flex"}},[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"danger",disabled:e.isDel},on:{click:e.deleteSubmit}},[e._v("删除")])],1)],1)],1),a("el-dialog",{staticClass:"productPage-addForm",attrs:{"close-on-click-modal":!1,title:"-添加货品信息-",visible:e.addDV,width:"35%","before-close":e.handleClose},on:{"update:visible":function(t){e.addDV=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addRules,"label-width":"120px"}},[a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"customer_id",label:"客户编号:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.dialogQuerySearch,clearable:"",placeholder:"模糊查询"},model:{value:e.addForm.customer_id,callback:function(t){e.$set(e.addForm,"customer_id",t)},expression:"addForm.customer_id"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"come_time",label:"入库时间:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-date-picker",{attrs:{"picker-options":e.pickerOption,type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.addForm.come_time,callback:function(t){e.$set(e.addForm,"come_time",t)},expression:"addForm.come_time"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"product_name",label:"货品名称:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.dialogQuerySearch,clearable:"",placeholder:"模糊查询"},model:{value:e.addForm.product_name,callback:function(t){e.$set(e.addForm,"product_name",t)},expression:"addForm.product_name"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"product_sku",label:"货品SKU:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.dialogQuerySearch,clearable:"",placeholder:"模糊查询"},model:{value:e.addForm.product_sku,callback:function(t){e.$set(e.addForm,"product_sku",t)},expression:"addForm.product_sku"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"storage_count",label:"初始数量:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.storage_count,callback:function(t){e.$set(e.addForm,"storage_count",t)},expression:"addForm.storage_count"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"save_days",label:"仓储天数:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{attrs:{disabled:""},model:{value:e.addForm.save_days,callback:function(t){e.$set(e.addForm,"save_days",t)},expression:"addForm.save_days"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.checkCustomerId()}}},[e._v("提 交")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.addDV=!1}}},[e._v("取 消")])],1)],1)],1)},ee=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("货品入库")])])}],te=(a("a9e3"),{data:function(){return{tableHeight:.65*window.innerHeight,times:0,timer:null,loading:!1,addCount:0,today_date:"",pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}},isDel:!0,addDV:!1,productReqUrl:"",productReqData:{},nameTipsArray:[],customer_id_list:[],addNameTipsArray:[],formData:{customer_info:""},queryResData:[],customer_info_list:[],addForm:{customer_id:"",come_time:"",product_name:"",product_sku:"",storage_count:"",save_days:"",out_count:"0",record_code:"",status:"待出库",product_code:"",out_time:"1970-01-01"},updateForm:{customer_id:"",come_time:"",product_name:"",product_sku:"",storage_count:"",save_days:"",out_count:"0",status:"待出库",product_code:"",record_code:""},louqueForm:{customer_id:"客户编号",come_time:"入库时间",product_name:"货品名称",product_sku:"货品SKU",storage_count:"初始数量",save_days:"仓储天数",out_count:"出库数量",status:"状态",record_code:"出库码"},rules:{customer_info:[{message:"请输入客户信息",required:!0,trigger:["blur","change"]}]},addRules:{customer_id:[{message:"请输入客户编号",required:!0,trigger:["blur","change"]}],come_time:[{message:"请输入入库时间",required:!0,trigger:["blur","change"]}],product_name:[{message:"请输入货品名称",required:!0,trigger:["blur","change"]}],product_sku:[{message:"请输入货品SKU",required:!0,trigger:["blur","change"]}],storage_count:[{message:"请输入初始数量",required:!0,trigger:["blur","change"]}],out_count:[{message:"请输入出库数量",required:!0,trigger:["blur","change"]}],status:[{message:"请选择货品状态",required:!0,trigger:["blur","change"]}]},queryPage:{pageSize:10,currentPage:1},multipleSelection:[],solidSelection:[]}},methods:{handleClose:function(){this.addDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){0==e.length?this.isDel=!0:this.isDel=!1,this.multipleSelection=e},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getProductLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],e.queryResData=[],0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,"")}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},refreshFormSearch:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getProductLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],e.queryResData=[],0!=t.data.length){var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,"")}}catch(l){o.e(l)}finally{o.f()}console.log(t.data),e.queryResData=t.data}})).catch((function(t){e.$message.error(t)}))},dialogQuerySearch:function(e,t){if(""!=this.addForm.customer_id){var a=this.addNameTipsArray;t(a)}else t([{value:""}])},getDialogData:function(){var e,t=this;1==this.addDV&&""==this.addForm.product_name&&""==this.addForm.product_sku?e=this.addForm.customer_id:1==this.addDV&&""!=this.addForm.customer_id&&""==this.addForm.product_sku?e=this.addForm.product_name:1==this.addDV&&""!=this.addForm.customer_id&&""!=this.addForm.product_name&&(e=this.addForm.product_sku),console.log(e),this.$http({method:"post",url:"api/query/getProductDialogLocate",data:{customer_info:e}}).then((function(a){if(console.log(a),t.customer_id_list=[],t.customer_id_list=a.data,""!=t.addForm.customer_id){t.addNameTipsArray=[];var o,r=[],i=Object(H["a"])(t.customer_id_list);try{for(i.s();!(o=i.n()).done;){var n=o.value,s=0;for(var l in n)if(-1!=String(n[l]).indexOf(e)){var c,u=Object(H["a"])(r);try{for(u.s();!(c=u.n()).done;){var d=c.value;if(d==n[l]){s=1;break}}}catch(m){u.e(m)}finally{u.f()}if(0!=s)continue;t.addNameTipsArray.push({value:String(n[l])}),r.push(String(n[l]))}}}catch(m){i.e(m)}finally{i.f()}}})).catch((function(e){t.$message.error(e)}))},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getData:function(){var e=this;this.$http({method:"post",url:"api/query/getProductLocate",data:{customer_info:this.formData.customer_info}}).then((function(t){if(console.log(t),e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(console.log(i[s]),-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)},deleteSubmit:function(){var e=this;this.$confirm("确定删除客户信息?").then((function(){e.solidSelection=e.multipleSelection;while(0!=e.solidSelection.length)e.deleteProduct(),e.solidSelection.shift();e.$message.success("删除客户信息成功!")})).catch((function(t){e.$message.warning("取消删除")}))},deleteProduct:function(){var e=this;this.$http({method:"post",url:"api/delete/deleteProduct",data:{customer_id:this.solidSelection[0].customer_id,product_code:this.solidSelection[0].product_code}}).then((function(t){e.refreshFormSearch()})).catch((function(t){e.$message.error(t)}))},addOpen:function(){""!=this.formData.customer_info&&(this.addForm.customer_id=this.formData.customer_info),this.addDV=!0},addSubmit:function(){var e=this,t=!1;for(var a in console.log(this.addForm),this.addForm)if("product_code"!=a&&"out_time"!=a&&"record_code"!=a&&(""==this.addForm[a]||void 0==this.addForm[a]||null==this.addForm[a]))return void this.$message.error("存在漏缺项 “".concat(this.louqueForm[a],"” "));console.log(this.addForm.product_name),this.$http({method:"post",url:"api/query/getSameSku",data:{customer_id:this.addForm.customer_id,product_name:this.addForm.product_name,product_sku:this.addForm.product_sku}}).then((function(a){console.log(a),0==a.data.length?(t=!0,console.log(a)):(t=!1,console.log("结果不为0")),t?(e.addForm.product_code=Math.random().toString(16).slice(2,15),e.$http({method:"post",url:"api/insert/insertProduct",data:e.addForm}).then((function(t){e.$message.success("添加成功!"),console.log(t),e.refreshFormSearch()})).catch((function(e){console.log(e)}))):(e.updateForm=e.addForm,e.updateForm.product_code=a.data[0].product_code,e.updateForm.storage_count=String(Number(a.data[0].storage_count)+Number(e.addForm.storage_count)),e.updateForm.out_count=String(Number(a.data[0].out_count)),console.log(e.updateForm),e.$http({method:"post",url:"api/update/updateProduct",data:e.updateForm}).then((function(t){e.$message.success("更新数据成功"),e.addDV=!1,e.refreshFormSearch(),console.log(e.updateForm),console.log(t)})).catch((function(e){console.log(e)})))})).catch((function(e){console.log(e)}))},checkCustomerId:function(){var e=this;this.$http({method:"post",url:"api/query/getCustomerId",data:{customer_id:this.addForm.customer_id}}).then((function(t){0==t.data.length?e.$message.warning("不存在编号为".concat(e.addForm.customer_id,"的客户，请重新输入！")):e.addSubmit()})).catch((function(e){}))}},watch:{formData:{handler:function(e,t){this.debounce(this.getData,1e3)},deep:!0},addForm:{handler:function(e,t){if(""!=this.addForm.come_time){var a=Date.parse(new Date(e.come_time)),o=Date.parse(new Date(this.today_date)),r=parseInt((o-a)/864e5);e.save_days=isNaN(r)||r<0?0:r+1}this.debounce(this.getDialogData,1e3)},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)}},mounted:function(){var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t,this.refreshFormSearch()},created:function(){"管理员"==sessionStorage.getItem("userLevel")||(this.$message.warning("你没有权限使用此功能!"),this.$router.push("/"))}}),ae=te,oe=(a("8444"),Object(l["a"])(ae,X,ee,!1,null,"82be729e",null)),re=oe.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",{staticClass:"content-container"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息:",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请输入客户编号或公司名称，为空时查询所有"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1),a("div",{staticStyle:{"font-size":"30px",float:"right",transform:"translate(-25px,10px)"}},[e._v(" 总数:"),a("span",{staticStyle:{color:"#66AED7"}},[e._v(e._s(e.totalLeaveCount))]),e._v("个 ")])],1),a("el-row",[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"100px"}}),a("el-table-column",{attrs:{align:"center",label:"客户编号",prop:"customer_id"}}),a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name"}}),a("el-table-column",{attrs:{align:"center",label:"货品名称",prop:"product_name"}}),a("el-table-column",{attrs:{align:"center",label:"货品SKU",prop:"product_sku"}}),a("el-table-column",{attrs:{align:"center",label:"入仓数量",prop:"storage_count"}}),a("el-table-column",{attrs:{align:"center",label:"剩余数量",prop:"leave_count"}}),a("el-table-column",{attrs:{align:"center",label:"仓储天数",prop:"save_days"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-row",{staticClass:"padding_tb padding_lr",attrs:{type:"flex"}},[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"danger",disabled:e.isDel},on:{click:e.deleteSubmit}},[e._v("删除")])],1)],1)],1)])},ne=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("货品清单")])])}],se={data:function(){return{tableHeight:.65*window.innerHeight,times:0,timer:null,loading:!1,today_date:"",pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}},isDel:!0,productReqUrl:"",productReqData:{},locateReqUrl:"/api/query/getLocateCustomerId",locateReqData:{},nameTipsArray:[],formData:{customer_info:""},queryResData:[],customer_info_list:[],louqueForm:{customer_id:"客户编号",come_time:"入库时间",product_name:"货品名称",product_sku:"货品SKU",storage_count:"初始数量",save_days:"仓储天数",out_count:"出库数量",status:"状态"},rules:{customer_info:[{message:"请输入客户信息",required:!0,trigger:["blur","change"]}]},queryPage:{pageSize:10,currentPage:1},multipleSelection:[],solidSelection:[]}},methods:{handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){0==e.length?this.isDel=!0:this.isDel=!1,this.multipleSelection=e},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getProductLocateByName",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],e.queryResData=[],0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.storage_count)-Number(r.out_count)}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},refreshFormSearch:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getProductLocateByName",data:{customer_info:this.formData.customer_info}}).then((function(t){if(console.log(t),e.loading=!1,e.queryResData=[],e.queryResData=[],0!=t.data.length){var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.storage_count)-Number(r.out_count)}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}})).catch((function(t){e.$message.error(t)}))},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getData:function(){var e=this;this.$http({method:"post",url:"api/query/getProductLocate",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)},deleteSubmit:function(){var e=this;this.$confirm("确定删除客户信息?").then((function(){e.solidSelection=e.multipleSelection;while(0!=e.solidSelection.length)e.deleteProduct(),e.solidSelection.shift();e.$message.success("删除客户信息成功!")})).catch((function(t){e.$message.warning("取消删除")}))},deleteProduct:function(){var e=this;this.$http({method:"post",url:"api/delete/deleteProduct",data:{customer_id:this.solidSelection[0].customer_id,product_code:this.solidSelection[0].product_code}}).then((function(t){e.refreshFormSearch()})).catch((function(t){e.$message.error(t)}))}},watch:{formData:{handler:function(e,t){/[0-9a-z]/i.test(this.formData.customer_info)?(this.locateReqUrl="/api/query/getLocateCustomerId",this.locateReqData={customer_id:e.customer_info}):(this.locateReqUrl="api/query/getLocateCompanyName",this.locateReqData={company_name:e.customer_info}),this.debounce(this.getData,1e3)},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)},totalLeaveCount:function(){var e,t=0,a=Object(H["a"])(this.queryResData);try{for(a.s();!(e=a.n()).done;){var o=e.value;t+=o.leave_count}}catch(r){a.e(r)}finally{a.f()}return t}},mounted:function(){var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t,this.refreshFormSearch()},created:function(){"管理员"==sessionStorage.getItem("userLevel")||(this.$message.warning("你没有权限使用此功能!"),this.$router.push("/"))}},le=se,ce=Object(l["a"])(le,ie,ne,!1,null,"c4fe09a8",null),ue=ce.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",{staticClass:"content-container"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息:",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请输入客户编号或公司名称，为空时查询所有"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1)],1),a("el-row",[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",label:"客户编号",prop:"customer_id",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"货品名称",prop:"product_name",width:"170px"}}),a("el-table-column",{attrs:{align:"center",label:"货品SKU",prop:"product_sku",width:"170px"}}),a("el-table-column",{attrs:{align:"center",label:"入库时间",prop:"come_time",width:"120px"}}),a("el-table-column",{attrs:{align:"center",label:"初始数量",prop:"storage_count",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"出库数量",prop:"out_count",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"仓储天数",prop:"save_days",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"出库操作",width:"220px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"sa-container"},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.row.count,callback:function(a){e.$set(t.row,"count",a)},expression:"scope.row.count"}})],1),a("el-button",{staticClass:"modify-btn small-btn",staticStyle:{"margin-left":"5px"},on:{click:function(a){return e.outSubmit(t.row)}}},[e._v("数据提交")])]}}])})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])},me=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("货品出库")])])}],he={data:function(){return{tableHeight:.65*window.innerHeight,user:"",level:"",times:0,timer:null,loading:!1,productReqUrl:"",productReqData:{},locateReqUrl:"/api/query/getLocateCustomerId",locateReqData:{},nameTipsArray:[],formData:{customer_info:""},queryResData:[],customer_info_list:[],queryPage:{pageSize:10,currentPage:1}}},methods:{handleClose:function(){this.addDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){this.getProduct()},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getProduct:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getProductLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],e.queryResData=[],0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.count=""}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},getAllProductByTime:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"/api/query/getAllProductByTime"}).then((function(t){if(e.loading=!1,e.queryResData=[],e.queryResData=[],0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.count=""}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},refreshGetProductLocateByTime:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"/api/query/getProductLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){e.loading=!1,e.queryResData=[],e.queryResData=[];var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.count=""}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data})).catch((function(t){e.$message.error(t)}))},outSubmit:function(e){var t=this;""!=e.count?Number(e.out_count)+Number(e.count)>Number(e.storage_count)?this.$message.warning("出货的数量已超过初始仓储数量"):Number(e.count)<0?this.$message.warning("出货的数量不能为负数"):isNaN(Number(e.count))?this.$message.warning("存在非数字字符!"):this.$confirm("确认提交吗?").then((function(){var a=Math.random().toString(16).slice(2,15);e.out_count=String(Number(e.out_count)+Number(e.count));var o={};for(var r in e)"count"!=r&&(o[r]=e[r]);o.out_time=G(),t.updateProduct(o,a),t.insertOutRecord(o,e,a)})).catch((function(e){console.log(e),t.$message.info("取消提交")})):this.$message.warning("输入不能为空!")},updateProduct:function(e,t){var a=this;e.record_code=t,this.$http({method:"post",url:"api/update/updateProduct",data:e}).then((function(e){a.refreshGetProductLocateByTime(),a.$message.success("提交成功")})).catch((function(e){}))},insertOutRecord:function(e,t,a){console.log(t),this.$http({method:"post",url:"api/insert/insertOutRecord",data:{customer_id:e.customer_id,product_name:e.product_name,product_sku:e.product_sku,out_time:e.out_time,out_count:t.count,record_code:a,status:"false",out_source:"管理员"}}).then((function(e){console.log("添加出库记录信息成功")})).catch((function(e){}))},getData:function(){var e=this;this.$http({method:"post",url:"api/query/getProductLocate",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)}},watch:{formData:{handler:function(e,t){/[0-9a-z]/i.test(this.formData.customer_info)?(this.locateReqUrl="/api/query/getLocateCustomerId",this.locateReqData={customer_id:e.customer_info}):(this.locateReqUrl="api/query/getLocateCompanyName",this.locateReqData={company_name:e.customer_info}),this.debounce(this.getData,1e3)},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)}},mounted:function(){var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t,this.refreshGetProductLocateByTime()},created:function(){this.user=sessionStorage.getItem("userName"),this.level=sessionStorage.getItem("userLevel"),"管理员"==sessionStorage.getItem("userLevel")||(this.$message.warning("你没有权限使用此功能!"),this.$router.push("/"))}},pe=he,ge=(a("4cea"),Object(l["a"])(pe,de,me,!1,null,"a4a2ced6",null)),fe=ge.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",{staticClass:"content-container"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息:",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请输入客户编号或公司名称，为空时查询所有"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1)],1),a("el-row",[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",label:"客户编号",prop:"customer_id"}}),a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name"}}),a("el-table-column",{attrs:{align:"center",label:"货品名称",prop:"product_name",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"货品SKU",prop:"product_sku",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"入库时间",prop:"come_time",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"出库时间",prop:"out_time"}}),a("el-table-column",{attrs:{align:"center",label:"入仓数量",prop:"storage_count"}}),a("el-table-column",{attrs:{align:"center",label:"剩余数量",prop:"leave_count"}}),a("el-table-column",{attrs:{align:"center",label:"仓储天数",prop:"save_days"}}),a("el-table-column",{attrs:{align:"center",label:"出库数量",prop:"out_count"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])},ye=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("出库清单")])])}],be={data:function(){return{tableHeight:.65*window.innerHeight,times:0,timer:null,loading:!1,productReqUrl:"",productReqData:{},locateReqUrl:"/api/query/getLocateCustomerId",locateReqData:{},nameTipsArray:[],formData:{customer_info:""},queryResData:[],customer_info_list:[],queryPage:{pageSize:10,currentPage:1}}},methods:{handleClose:function(){this.addDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){this.getProduct()},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getProduct:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getProductLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],e.queryResData=[],console.log(t),0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.count=0,r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.storage_count)-Number(r.out_count)}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},getAllProductByTime:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"/api/query/getProductLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.count=0,r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),ileaverage_count=Number(r.storage_count)-Number(r.out_count)}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},refresh:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"/api/query/getProductLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){e.loading=!1,e.queryResData=[];var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.count=0,r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.storage_count)-Number(r.out_count)}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data})).catch((function(t){e.$message.error(t)}))},getData:function(){var e=this;this.$http({method:"post",url:"api/query/getProductLocate",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)}},watch:{formData:{handler:function(e,t){/[0-9a-z]/i.test(this.formData.customer_info)?(this.locateReqUrl="/api/query/getLocateCustomerId",this.locateReqData={customer_id:e.customer_info}):(this.locateReqUrl="api/query/getLocateCompanyName",this.locateReqData={company_name:e.customer_info}),this.debounce(this.getData,1e3)},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)}},mounted:function(){this.refresh();var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t},created:function(){"管理员"==sessionStorage.getItem("userLevel")||(this.$message.warning("你没有权限使用此功能!"),this.$router.push("/"))}},ve=be,De=(a("601e"),Object(l["a"])(ve,_e,ye,!1,null,"4d242203",null)),we=De.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",{staticClass:"content-container"},[a("el-row",[a("el-col",{staticStyle:{width:"31%"}},[a("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请搜索客户编号或公司名称"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"add-btn",on:{click:e.addOpen}},[e._v("录入信息")])],1)],1),a("el-row",[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"100px"}}),a("el-table-column",{attrs:{align:"center",label:"客户编号",prop:"customer_id",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"入库时间",prop:"come_time",width:"200px"}}),a("el-table-column",{attrs:{align:"center",label:"名称",prop:"product_name",width:"200px"}}),a("el-table-column",{attrs:{align:"center",label:"规格(cm)",prop:"length_width_height",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"抛重重量(lb)",prop:"weight",width:"160"}}),a("el-table-column",{attrs:{align:"center",label:"实际重量(lb)",prop:"real_weight",width:"160"}}),a("el-table-column",{attrs:{align:"center",label:"数量",prop:"count"}}),a("el-table-column",{attrs:{align:"center",label:"仓储天数",prop:"save_days",width:"130"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-row",{staticClass:"padding_tb padding_lr",attrs:{type:"flex"}},[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"danger",disabled:e.isDel},on:{click:e.deleteSubmit}},[e._v("删除")])],1)],1)],1),a("el-dialog",{staticClass:"productPage-addForm",attrs:{"close-on-click-modal":!1,title:"-添加箱子信息-",visible:e.addDV,width:"35%","before-close":e.handleClose},on:{"update:visible":function(t){e.addDV=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addRules,"label-width":"140px"}},[a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"customer_id",label:"客户编号:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.dialogQuerySearch,clearable:"",placeholder:"模糊查询"},model:{value:e.addForm.customer_id,callback:function(t){e.$set(e.addForm,"customer_id",t)},expression:"addForm.customer_id"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"come_time",label:"入库时间:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-date-picker",{attrs:{"picker-options":e.pickerOption,type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.addForm.come_time,callback:function(t){e.$set(e.addForm,"come_time",t)},expression:"addForm.come_time"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"product_name",label:"箱子名称:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.dialogQuerySearch,clearable:"",placeholder:"模糊查询"},model:{value:e.addForm.product_name,callback:function(t){e.$set(e.addForm,"product_name",t)},expression:"addForm.product_name"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"length_width_height",label:"规格(cm):"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.dialogQuerySearch,clearable:"",placeholder:"模糊查询"},model:{value:e.addForm.length_width_height,callback:function(t){e.$set(e.addForm,"length_width_height",t)},expression:"addForm.length_width_height"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"weight",label:"抛重重量(lb):"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{attrs:{disabled:""},model:{value:e.addForm.weight,callback:function(t){e.$set(e.addForm,"weight",t)},expression:"addForm.weight"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"real_weight",label:"实际重量(lb):"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.real_weight,callback:function(t){e.$set(e.addForm,"real_weight",t)},expression:"addForm.real_weight"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"count",label:"仓储数量:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.count,callback:function(t){e.$set(e.addForm,"count",t)},expression:"addForm.count"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"save_days",label:"仓储天数:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{attrs:{disabled:""},model:{value:e.addForm.save_days,callback:function(t){e.$set(e.addForm,"save_days",t)},expression:"addForm.save_days"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.checkCustomerId()}}},[e._v("提 交")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.addDV=!1}}},[e._v("取 消")])],1)],1)],1)},xe=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("箱子入库")])])}],qe=a("ade3"),Fe=(a("1276"),Object(qe["a"])({data:function(){return{tableHeight:.65*window.innerHeight,times:0,timer:null,loading:!1,today_date:"",isDel:!0,multipleSelection:[],solidSelection:[],pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}},addDV:!1,boxReqUrl:"",boxReqData:{},locateReqUrl:"/api/query/getLocateCustomerId",locateReqData:{},nameTipsArray:[],customer_id_list:[],addNameTipsArray:[],formData:{customer_info:""},queryResData:[],customer_info_list:[],louqueForm:{customer_id:"客户编号",come_time:"入库时间",product_name:"箱子名称",length_width_height:"规格(cm)",weight:"抛重重量(lb)",count:"初始数量",save_days:"仓储天数",out_count:"出库数量",box_code:"箱子码",status:"状态"},addForm:{customer_id:"",come_time:"",product_name:"",length_width_height:"",weight:"",real_weight:"",count:"",save_days:"",out_count:"0",box_code:"",status:"待出库",out_time:"1970-01-01",record_code:""},rules:{customer_info:[{message:"请输入客户信息",required:!0,trigger:["blur","change"]}]},addRules:{customer_id:[{message:"请输入客户编号",required:!0,trigger:["blur","change"]}],come_time:[{message:"请选择入库时间",required:!0,trigger:["blur","change"]}],product_name:[{message:"请输入箱子名称",required:!0,trigger:["blur","change"]}],length_width_height:[{message:"请输入规格(cm),例如'30*40*50'",required:!0,trigger:["blur","change"]}],real_weight:[{message:"请输入实际重量(lb)",required:!0,trigger:["blur","change"]}],count:[{message:"请输入初始数量",required:!0,trigger:["blur","change"]}],save_days:[{message:"请输入仓储天数",required:!0,trigger:["blur","change"]}],out_count:[{message:"请输入出库数量",required:!0,trigger:["blur","change"]}],status:[{message:"请选择库存状态",required:!0,trigger:["blur","change"]}]},queryPage:{pageSize:10,currentPage:1}}},methods:{handleClose:function(){this.addDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){0==e.length?this.isDel=!0:this.isDel=!1,this.multipleSelection=e},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){this.getBox()},refreshFormSearch:function(){this.refreshGetBox()},getBox:function(){var e=this;this.$http({method:"post",url:"api/query/getBoxLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){if(0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,"")}}catch(l){o.e(l)}finally{o.f()}console.log(t.data),e.queryResData=t.data}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},refreshGetBox:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getBoxLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,"")}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}})).catch((function(t){e.$message.error(t)}))},deleteSubmit:function(){var e=this;this.$confirm("确定删除客户信息?").then((function(){e.solidSelection=e.multipleSelection;while(0!=e.solidSelection.length)e.deleteBox(),e.solidSelection.shift();e.$message.success("删除客户信息成功!")})).catch((function(t){e.$message.warning("取消删除")}))},deleteBox:function(){var e=this;this.$http({method:"post",url:"api/delete/deleteBox",data:{customer_id:this.solidSelection[0].customer_id,box_code:this.solidSelection[0].box_code}}).then((function(t){e.refreshFormSearch()})).catch((function(t){e.$message.error(t)}))},dialogQuerySearch:function(e,t){if(""!=this.addForm.customer_id){var a=this.addNameTipsArray;t(a)}else t([{value:""}])},getDialogData:function(){var e,t=this;1==this.addDV&&""==this.addForm.product_name&&""==this.addForm.length_width_height?e=this.addForm.customer_id:1==this.addDV&&""!=this.addForm.customer_id&&""==this.addForm.length_width_height?e=this.addForm.product_name:1==this.addDV&&""!=this.addForm.customer_id&&""!=this.addForm.product_name&&(e=this.addForm.length_width_height),console.log(e),this.$http({method:"post",url:"api/query/getBoxDialogLocate",data:{customer_info:e}}).then((function(a){if(console.log(a),t.customer_id_list=[],t.customer_id_list=a.data,""!=t.addForm.customer_id){t.addNameTipsArray=[];var o,r=[],i=Object(H["a"])(t.customer_id_list);try{for(i.s();!(o=i.n()).done;){var n=o.value,s=0;for(var l in n)if(-1!=String(n[l]).indexOf(e)){var c,u=Object(H["a"])(r);try{for(u.s();!(c=u.n()).done;){var d=c.value;if(d==n[l]){s=1;break}}}catch(m){u.e(m)}finally{u.f()}if(0!=s)continue;t.addNameTipsArray.push({value:String(n[l])}),r.push(String(n[l]))}}}catch(m){i.e(m)}finally{i.f()}}})).catch((function(e){t.$message.error(e)}))},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getData:function(){var e=this;this.$http({method:"post",url:"api/query/getBoxLocate",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)},addOpen:function(){""!=this.formData.customer_info&&(this.addForm.customer_id=this.formData.customer_info),this.addDV=!0},addSubmit:function(){var e=this;for(var t in this.addForm)if("box_code"!=t&&"out_time"!=t&&"record_code"!=t&&""==this.addForm[t])return void this.$message.error("存在漏缺项--".concat(this.louqueForm[t],"--"));this.addForm.box_code=Math.random().toString(16).slice(2,15),this.$http({method:"post",url:"api/insert/insertBox",data:this.addForm}).then((function(t){e.$message.success("添加成功!"),e.refreshGetBox(),e.addDV=!1})).catch((function(e){}))},checkCustomerId:function(){var e=this;this.$http({method:"post",url:"api/query/getCustomerId",data:{customer_id:this.addForm.customer_id}}).then((function(t){0==t.data.length?e.$message.warning("不存在编号为".concat(e.addForm.customer_id,"的客户，请重新输入！")):e.addSubmit()})).catch((function(e){}))}},watch:{formData:{handler:function(e,t){/[0-9a-z]/i.test(this.formData.customer_info)?(this.locateReqUrl="/api/query/getLocateCustomerId",this.locateReqData={customer_id:e.customer_info}):(this.locateReqUrl="api/query/getLocateCompanyName",this.locateReqData={company_name:e.customer_info}),this.debounce(this.getData,1e3)},deep:!0},addForm:{handler:function(e,t){if(""!=this.addForm.come_time){var a=Date.parse(new Date(e.come_time)),o=Date.parse(new Date(this.today_date)),r=parseInt((o-a)/864e5);e.save_days=isNaN(r)||r<0?0:r+1}if(this.addForm.length_width_height.length>4){var i=this.addForm.length_width_height.split("*");if(3==i.length){var n=Math.floor(i[0]*i[1]*i[2]/6e3/.452);this.addForm.weight=n}}this.debounce(this.getDialogData,1e3)},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)}},mounted:function(){var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t,this.refreshGetBox()},created:function(){}},"created",(function(){"管理员"==sessionStorage.getItem("userLevel")||(this.$message.warning("你没有权限使用此功能!"),this.$router.push("/home"))}))),$e=Fe,Ce=(a("ae34"),Object(l["a"])($e,Se,xe,!1,null,"0b0feeb4",null)),Re=Ce.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",{staticClass:"content-container"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息:",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请输入客户编号或公司名称，为空时查询所有"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1),a("div",{staticStyle:{"font-size":"30px",float:"right",transform:"translate(-25px,10px)"}},[e._v(" 总数:"),a("span",{staticStyle:{color:"#66AED7"}},[e._v(e._s(e.totalLeaveCount))]),e._v("个 ")])],1),a("el-row",[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"100px"}}),a("el-table-column",{attrs:{align:"center",label:"客户编号",prop:"customer_id",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"名称",prop:"product_name",width:"200px"}}),a("el-table-column",{attrs:{align:"center",label:"规格(cm)",prop:"length_width_height",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"抛重重量(lb)",prop:"weight",width:"160"}}),a("el-table-column",{attrs:{align:"center",label:"实际重量(lb)",prop:"real_weight",width:"160"}}),a("el-table-column",{attrs:{align:"center",label:"入仓数量",prop:"count",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"剩余数量",prop:"leave_count",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"入库时间",prop:"come_time",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"仓储天数",prop:"save_days",width:"130"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-row",{staticClass:"padding_tb padding_lr",attrs:{type:"flex"}},[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"danger",disabled:e.isDel},on:{click:e.deleteSubmit}},[e._v("删除")])],1)],1)],1)])},Pe=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("箱子清单")])])}],Oe=Object(qe["a"])({data:function(){return{tableHeight:.65*window.innerHeight,times:0,timer:null,loading:!1,today_date:"",isDel:!0,multipleSelection:[],solidSelection:[],pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}},addDV:!1,boxReqUrl:"",boxReqData:{},locateReqUrl:"/api/query/getLocateCustomerId",locateReqData:{},nameTipsArray:[],formData:{customer_info:""},queryResData:[],customer_info_list:[],louqueForm:{customer_id:"客户编号",come_time:"入库时间",product_name:"箱子名称",length_width_height:"规格(cm)",weight:"重量(lb)",count:"初始数量",save_days:"仓储天数",out_count:"出库数量",box_code:"箱子码",status:"状态"},addForm:{customer_id:"",come_time:"",product_name:"",length_width_height:"",weight:"",count:"",save_days:"",out_count:"",box_code:"",status:""},rules:{customer_info:[{message:"请输入客户信息",required:!0,trigger:["blur","change"]}]},queryPage:{pageSize:10,currentPage:1}}},methods:{handleClose:function(){this.addDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){0==e.length?this.isDel=!0:this.isDel=!1,this.multipleSelection=e},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){this.getBox()},refreshFormSearch:function(){this.refreshGetBox()},getBox:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getBoxLocateByName",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.count),r.count=Number(r.count)+Number(r.out_count)}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},refreshGetBox:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getBoxLocateByName",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],console.log(t),0!=t.data.length){var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.count),r.count=Number(r.count)+Number(r.out_count)}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}})).catch((function(t){e.$message.error(t)}))},deleteSubmit:function(){var e=this;this.$confirm("确定删除客户信息?").then((function(){e.solidSelection=e.multipleSelection;while(0!=e.solidSelection.length)e.deleteBox(),e.solidSelection.shift();e.$message.success("删除客户信息成功!")})).catch((function(t){e.$message.warning("取消删除")}))},deleteBox:function(){var e=this;this.$http({method:"post",url:"api/delete/deleteBox",data:{customer_id:this.solidSelection[0].customer_id,box_code:this.solidSelection[0].box_code}}).then((function(t){e.refreshFormSearch()})).catch((function(t){e.$message.error(t)}))},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getData:function(){var e=this;this.$http({method:"post",url:"api/query/getBoxLocate",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)},addOpen:function(){""!=this.formData.customer_info&&(this.addForm.customer_id=this.formData.customer_info),this.addDV=!0},addSubmit:function(){var e=this;for(var t in this.addForm)if("box_code"!=t&&""==this.addForm[t])return void this.$message.error("存在漏缺项--".concat(this.louqueForm[t],"--"));this.addForm.box_code=Math.random().toString(16).slice(2,15),this.$http({method:"post",url:"api/insert/insertBox",data:this.addForm}).then((function(t){e.$message.success("添加成功!"),e.refreshGetBox(),e.addDV=!1})).catch((function(e){}))},checkCustomerId:function(){var e=this;this.$http({method:"post",url:"api/query/getCustomerId",data:{customer_id:this.addForm.customer_id}}).then((function(t){0==t.data.length?e.$message.warning("不存在编号为".concat(e.addForm.customer_id,"的客户，请重新输入！")):e.addSubmit()})).catch((function(e){}))}},watch:{formData:{handler:function(e,t){/[0-9a-z]/i.test(this.formData.customer_info)?(this.locateReqUrl="/api/query/getLocateCustomerId",this.locateReqData={customer_id:e.customer_info}):(this.locateReqUrl="api/query/getLocateCompanyName",this.locateReqData={company_name:e.customer_info}),this.debounce(this.getData,1e3)},deep:!0},addForm:{handler:function(e,t){if(""!=this.addForm.come_time){var a=Date.parse(new Date(e.come_time)),o=Date.parse(new Date(this.today_date)),r=parseInt((o-a)/864e5);e.save_days=isNaN(r)||r<0?0:r+1}if(this.addForm.length_width_height.length>4){var i=this.addForm.length_width_height.split("*");if(3==i.length){var n=Math.floor(i[0]*i[1]*i[2]/6e3/.452);this.addForm.weight=n}}},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)},totalLeaveCount:function(){var e,t=0,a=Object(H["a"])(this.queryResData);try{for(a.s();!(e=a.n()).done;){var o=e.value;t+=o.leave_count}}catch(r){a.e(r)}finally{a.f()}return t}},mounted:function(){var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t,this.refreshFormSearch()},created:function(){}},"created",(function(){"管理员"==sessionStorage.getItem("userLevel")||(this.$message.warning("你没有权限使用此功能!"),this.$router.push("/"))})),Te=Oe,ze=(a("d1a3"),Object(l["a"])(Te,ke,Pe,!1,null,"27edd141",null)),Ne=ze.exports,je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",{staticClass:"content-container"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息:",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请输入客户编号或公司名称，为空时查询所有"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1)],1),a("el-row",[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",label:"客户编号",prop:"customer_id",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"名称",prop:"product_name",width:"200px"}}),a("el-table-column",{attrs:{align:"center",label:"规格(cm)",prop:"length_width_height",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"重量(lb)",prop:"weight",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"入库时间",prop:"come_time",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"出库时间",prop:"out_time",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"仓储天数",prop:"save_days",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"仓储数量",prop:"count",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"出库操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"sa-container"},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.row.operateCount,callback:function(a){e.$set(t.row,"operateCount",a)},expression:"scope.row.operateCount"}})],1),a("el-button",{staticClass:"modify-btn small-btn",staticStyle:{"margin-left":"5px"},on:{click:function(a){return e.outSubmit(t.row)}}},[e._v("数据提交")])]}}])})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])},Le=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("箱子出库")])])}],Ie={data:function(){return{tableHeight:.65*window.innerHeight,user:"",level:"",times:0,timer:null,loading:!1,today_date:"",pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}},addDV:!1,boxReqUrl:"",boxReqData:{},locateReqUrl:"/api/query/getLocateCustomerId",locateReqData:{},nameTipsArray:[],formData:{customer_info:""},queryResData:[],customer_info_list:[],louqueForm:{customer_id:"客户编号",come_time:"入库时间",product_name:"箱子名称",length_width_height:"规格(cm)",weight:"重量(lb)",count:"初始数量",save_days:"仓储天数",out_count:"出库数量",box_code:"箱子码",status:"状态"},addForm:{customer_id:"",come_time:"",product_name:"",length_width_height:"",weight:"",count:"",save_days:"",out_count:"",box_code:"",status:""},rules:{customer_info:[{message:"请输入客户信息",required:!0,trigger:["blur","change"]}]},addRules:{customer_id:[{message:"请输入客户编号",required:!0,trigger:["blur","change"]}],come_time:[{message:"请选择入库时间",required:!0,trigger:["blur","change"]}],product_name:[{message:"请输入箱子名称",required:!0,trigger:["blur","change"]}],length_width_height:[{message:"请输入规格(cm),例如'30*40*50'",required:!0,trigger:["blur","change"]}],weight:[{message:"请输入重量(lb)",required:!0,trigger:["blur","change"]}],count:[{message:"请输入初始数量",required:!0,trigger:["blur","change"]}],save_days:[{message:"请输入仓储天数",required:!0,trigger:["blur","change"]}],out_count:[{message:"请输入出库数量",required:!0,trigger:["blur","change"]}],status:[{message:"请选择库存状态",required:!0,trigger:["blur","change"]}]},queryPage:{pageSize:10,currentPage:1}}},methods:{handleClose:function(){this.addDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){this.getBox()},getBox:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getBoxLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(r.out_time));if(0==r.out_count)r.save_days=0,r.out_time="未出库";else{var s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,"")}r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.operateCount="",r.leave_count=Number(r.count),r.count=Number(r.count)+Number(r.out_count)}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},refreshGetBox:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getBoxLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(r.out_time));if(0==r.out_count)r.save_days=0,r.out_time="未出库";else{var s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,"")}r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.count),r.count=Number(r.count)+Number(r.out_count),r.operateCount=""}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}})).catch((function(t){e.$message.error(t)}))},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getData:function(){var e=this;this.$http({method:"post",url:"api/query/getBoxLocate",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)},addOpen:function(){""!=this.formData.customer_info&&(this.addForm.customer_id=this.formData.customer_info),this.addDV=!0},outSubtract:function(e){0!=e.operateCount?(e.count++,e.out_count--,e.operateCount--):this.$message.warning("撤回的数量已为0，无法再进行删减")},outAdd:function(e){0!=e.count?(e.count--,e.out_count++,e.operateCount++):this.$message.warning("货物的仓储件数已为0，无法出库更多!")},outSubmit:function(e){var t=this;""!=e.operateCount?Number(e.out_count)+Number(e.operateCount)>Number(e.count)?this.$message.warning("出库失败，仓储货物不足"):Number(e.count)<0?this.$message.warning("出货的数量不能为负数"):isNaN(Number(e.count))?this.$message.warning("存在非数字字符!"):this.$confirm("确认提交吗?").then((function(){e.count=String(Number(e.count)-Number(e.operateCount)),e.out_count=String(Number(e.out_count)+Number(e.operateCount));var a={},o=Math.random().toString(16).slice(2,15);for(var r in e)"operateCount"!=r&&(a[r]=e[r]);a.out_time=G(),t.updateBox(a),t.insertOutRecord(a,e,o)})).catch((function(e){console.log(e),t.$message.info("取消提交")})):this.$message.warning("输入不能为空!")},updateBox:function(e){var t=this;this.$http({method:"post",url:"api/update/updateBox",data:e}).then((function(e){t.refreshGetBox(),t.$message.success("提交成功")})).catch((function(e){}))},insertOutRecord:function(e,t,a){this.$http({method:"post",url:"api/insert/insertOutRecord",data:{customer_id:e.customer_id,product_name:e.product_name,product_sku:"---",out_time:e.out_time,out_count:t.operateCount,record_code:a,status:"false",out_source:"管理员"}}).then((function(e){console.log("添加箱子出库记录信息成功")})).catch((function(e){}))}},watch:{formData:{handler:function(e,t){this.debounce(this.getData,1e3)},deep:!0},addForm:{handler:function(e,t){if(""!=this.addForm.come_time){var a=Date.parse(new Date(e.come_time)),o=Date.parse(new Date(e.out_time)),r=parseInt((o-a)/864e5);e.save_days=isNaN(r)||r<0?0:r+1}if(this.addForm.length_width_height.length>4){var i=this.addForm.length_width_height.split("*");if(3==i.length){var n=Math.floor(i[0]*i[1]*i[2]/6e3/.452);this.addForm.weight=n}}},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)}},mounted:function(){var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t,this.refreshGetBox()},created:function(){this.user=sessionStorage.getItem("userName"),this.level=sessionStorage.getItem("userLevel");"管理员"==sessionStorage.getItem("userLevel")||(this.$message.warning("你没有权限使用此功能!"),this.$router.push("/"))}},Ae=Ie,Be=(a("faae"),Object(l["a"])(Ae,je,Le,!1,null,"fd32662a",null)),Ee=Be.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",{staticClass:"content-container"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息:",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请输入客户编号或公司名称，为空时查询所有"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1)],1),a("el-row",[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",label:"客户编号",prop:"customer_id",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"名称",prop:"product_name",width:"200px"}}),a("el-table-column",{attrs:{align:"center",label:"规格(cm)",prop:"length_width_height",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"重量(lb)",prop:"weight",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"入库时间",prop:"come_time",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"出库时间",prop:"out_time",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"仓储天数",prop:"save_days",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"入仓数量",prop:"count",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"出库数量",prop:"out_count",width:"130"}}),a("el-table-column",{attrs:{align:"center",label:"剩余数量",prop:"leave_count",width:"130"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])},Me=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("出库清单")])])}],Ue={data:function(){return{tableHeight:.65*window.innerHeight,times:0,timer:null,loading:!1,today_date:"",pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}},addDV:!1,nameTipsArray:[],formData:{customer_info:""},queryResData:[],customer_info_list:[],louqueForm:{customer_id:"客户编号",come_time:"入库时间",product_name:"箱子名称",length_width_height:"规格(cm)",weight:"重量(lb)",count:"初始数量",save_days:"仓储天数",out_count:"出库数量",box_code:"箱子码",status:"状态"},addForm:{customer_id:"",come_time:"",product_name:"",length_width_height:"",weight:"",count:"",save_days:"",out_count:"",box_code:"",status:""},rules:{customer_info:[{message:"请输入客户信息",required:!0,trigger:["blur","change"]}]},addRules:{customer_id:[{message:"请输入客户编号",required:!0,trigger:["blur","change"]}],come_time:[{message:"请选择入库时间",required:!0,trigger:["blur","change"]}],product_name:[{message:"请输入箱子名称",required:!0,trigger:["blur","change"]}],length_width_height:[{message:"请输入规格(cm),例如'30*40*50'",required:!0,trigger:["blur","change"]}],weight:[{message:"请输入重量(lb)",required:!0,trigger:["blur","change"]}],count:[{message:"请输入初始数量",required:!0,trigger:["blur","change"]}],save_days:[{message:"请输入仓储天数",required:!0,trigger:["blur","change"]}],out_count:[{message:"请输入出库数量",required:!0,trigger:["blur","change"]}],status:[{message:"请选择库存状态",required:!0,trigger:["blur","change"]}]},queryPage:{pageSize:10,currentPage:1}}},methods:{handleClose:function(){this.addDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){this.getBox()},getBox:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getBoxLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.count),r.count=Number(r.count)+Number(r.out_count)}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},refreshGetBox:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getBoxLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.count),r.count=Number(r.count)+Number(r.out_count)}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}})).catch((function(t){e.$message.error(t)}))},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getData:function(){var e=this;this.$http({method:"post",url:"api/query/getBoxLocate",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)},addOpen:function(){""!=this.formData.customer_info&&(this.addForm.customer_id=this.formData.customer_info),this.addDV=!0},addSubmit:function(){var e=this;for(var t in this.addForm)if("box_code"!=t&&""==this.addForm[t])return void this.$message.error("存在漏缺项--".concat(this.louqueForm[t],"--"));this.addForm.box_code=Math.random().toString(16).slice(2,15),this.$http({method:"post",url:"api/insert/insertBox",data:this.addForm}).then((function(t){e.$message.success("添加成功!"),e.refreshGetBox(),e.addDV=!1})).catch((function(e){}))},checkCustomerId:function(){var e=this;this.$http({method:"post",url:"api/query/getCustomerId",data:{customer_id:this.addForm.customer_id}}).then((function(t){0==t.data.length?e.$message.warning("不存在编号为".concat(e.addForm.customer_id,"的客户，请重新输入！")):e.addSubmit()})).catch((function(e){}))}},watch:{formData:{handler:function(e,t){this.debounce(this.getData,1e3)},deep:!0},addForm:{handler:function(e,t){if(""!=this.addForm.come_time){var a=Date.parse(new Date(e.come_time)),o=Date.parse(new Date(this.today_date)),r=parseInt((o-a)/864e5);e.save_days=isNaN(r)||r<0?0:r+1}if(this.addForm.length_width_height.length>4){var i=this.addForm.length_width_height.split("*");if(3==i.length){var n=Math.floor(i[0]*i[1]*i[2]/6e3/.452);this.addForm.weight=n}}},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)}},mounted:function(){var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t,this.refreshGetBox()},created:function(){"管理员"==sessionStorage.getItem("userLevel")||(this.$message.warning("你没有权限使用此功能!"),this.$router.push("/"))}},He=Ue,Qe=(a("6eca"),Object(l["a"])(He,Ve,Me,!1,null,"9a402174",null)),Ge=Qe.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",{staticClass:"content-container"},[a("el-row",[a("el-col",{staticStyle:{width:"auto"}},[a("span",{staticClass:"customer_id_style"},[e._v("客户编号:"+e._s(e.customer_id))])])],1),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"0","label-position":"left"}},[a("el-form-item",{attrs:{prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请输入客户编号或公司名称，为空时查询所有"},on:{change:e.listenShowFill},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1),a("el-col",{staticStyle:{"margin-left":"1%"},attrs:{span:3}},[a("el-button",{class:[1==e.isNoClick?"disabled-btn":"add-btn"],style:{display:e.isShowFill},attrs:{disabled:e.isNoClick},on:{click:e.addOpen}},[e._v("点击填地址(勾选后点击,若多选则提交同一地址)")])],1)],1),a("el-row",[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"100px"}}),a("el-table-column",{attrs:{align:"center",label:"产品名称",prop:"product_name"}}),a("el-table-column",{attrs:{align:"center",label:"产品sku",prop:"product_sku"}}),a("el-table-column",{attrs:{align:"center",label:"入仓数量",prop:"storage_count"}}),a("el-table-column",{attrs:{align:"center",label:"剩余数量",prop:"leave_count"}}),a("el-table-column",{attrs:{align:"center",label:"下单数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"sa-container"},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.row.count,callback:function(a){e.$set(t.row,"count",a)},expression:"scope.row.count"}})],1)]}}])}),a("el-table-column",{attrs:{align:"center",label:"入库时间",prop:"come_time"}}),a("el-table-column",{attrs:{align:"center",label:"仓储天数",prop:"save_days"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1),a("el-dialog",{staticClass:"cus-dialog-style",attrs:{"close-on-click-modal":!1,title:"-填写地址信息-",visible:e.addDV,width:"55%","before-close":e.handleClose},on:{"update:visible":function(t){e.addDV=t}}},[a("el-form",{ref:"addForm",attrs:{"label-width":"340px"},model:{value:e.addForm,callback:function(t){e.addForm=t},expression:"addForm"}},[a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{required:"",label:"买家地址 Enter customer address:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.customer_address,callback:function(t){e.$set(e.addForm,"customer_address",t)},expression:"addForm.customer_address"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{required:"",label:"全名 Full name:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.full_name,callback:function(t){e.$set(e.addForm,"full_name",t)},expression:"addForm.full_name"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{required:"",label:"街道地址1 Street address1:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.street_address1,callback:function(t){e.$set(e.addForm,"street_address1",t)},expression:"addForm.street_address1"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{required:"",label:"街道地址2 Street address2:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.street_address2,callback:function(t){e.$set(e.addForm,"street_address2",t)},expression:"addForm.street_address2"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{required:"",label:"城市 City:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.city,callback:function(t){e.$set(e.addForm,"city",t)},expression:"addForm.city"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{required:"",label:"州/省 State/Province:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.province,callback:function(t){e.$set(e.addForm,"province",t)},expression:"addForm.province"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{required:"",label:"邮编 Zip / Postal code:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.zip,callback:function(t){e.$set(e.addForm,"zip",t)},expression:"addForm.zip"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{label:"手机电话(可选) Phone number:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.phone_number,callback:function(t){e.$set(e.addForm,"phone_number",t)},expression:"addForm.phone_number"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"15px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{label:"邮箱地址(可选) Email address:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.email_address,callback:function(t){e.$set(e.addForm,"email_address",t)},expression:"addForm.email_address"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addToSubmit}},[e._v("提 交")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.addDV=!1}}},[e._v("取 消")])],1)],1)],1)},Ke=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("货品清单")])])}],We={data:function(){return Object(qe["a"])({isShowFill:"none",tableHeight:.65*window.innerHeight,customer_id:"",level:"",isNoClick:!0,times:0,timer:null,loading:!1,today_date:"",pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}},addDV:!1,addForm:{customer_address:"",full_name:"",street_address1:"",street_address2:"",city:"",province:"",zip:"",phone_number:"",email_address:"",product_code:"",box_code:"",record_code:""},productReqUrl:"",productReqData:{},nameTipsArray:[],formData:{customer_info:""},queryResData:[],customer_info_list:[],rules:{customer_info:[{message:"请输入客户信息",required:!0,trigger:["blur","change"]}]},queryPage:{pageSize:10,currentPage:1},multipleSelection:[],solidSelection:[]},"solidSelection",[])},methods:{listenShowFill:function(e){"999999999"==e&&(this.isShowFill="inherit")},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},handleClose:function(){this.addDV=!1},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){console.log(e),0==e.length?this.isNoClick=!0:this.isNoClick=!1,this.multipleSelection=e},resetForm:function(e){var t=this.$refs[e];t.resetFields()},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},formSearch:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"/api/query/getSingleProductLocateByTime",data:{customer_info:this.formData.customer_info,customer_id:this.customer_id}}).then((function(t){if(console.log(t),e.loading=!1,e.queryResData=[],0!=t.data.length){console.log(t),e.queryResData=[];var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.storage_count)-Number(r.out_count),r.count="",e.queryResData.push(r)}}catch(l){o.e(l)}finally{o.f()}console.log(e.queryResData)}})).catch((function(t){e.$message.error(t)}))},refreshFormSearch:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"/api/query/getProductLocateByTime",data:{customer_info:this.customer_id}}).then((function(t){if(console.log(t),e.loading=!1,e.queryResData=[],0!=t.data.length){console.log(t),e.queryResData=[];var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.storage_count)-Number(r.out_count),r.count="",e.queryResData.push(r)}}catch(l){o.e(l)}finally{o.f()}console.log(e.queryResData)}})).catch((function(t){e.$message.error(t)}))},addOpen:function(){this.solidSelection=this.multipleSelection;var e,t=Object(H["a"])(this.solidSelection);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(""==a.count)return void this.$message.warning("存在未填写'下单数量'的勾选项,请检查！");if(a.count<0)return void this.$message.warning("下单数量不能为负数!");if(a.count>a.leave_count)return void this.$message.warning("下单数量超额!");if(isNaN(Number(a.count)))return void this.$message.warning("存在非数字字符!")}}catch(o){t.e(o)}finally{t.f()}this.addDV=!0},addToSubmit:function(){if(""!=this.addForm.customer_address&&""!=this.addForm.street_address1&&""!=this.addForm.street_address2&&""!=this.addForm.zip&&""!=this.addForm.city&&""!=this.addForm.province){while(0!=this.solidSelection.length){var e=Math.random().toString(16).slice(2,15);this.solidSelection[0].out_time=G(),this.updateProduct(this.solidSelection[0],e),this.insertOutRecord(this.solidSelection[0],e),this.insertAddress(e,this.addForm),this.solidSelection.shift()}this.refreshFormSearch(),this.addDV=!1}else this.$message.warning("存在未填写出库的勾选项,请检查！")},insertOutRecord:function(e,t){this.$http({method:"post",url:"api/insert/insertOutRecord",data:{customer_id:e.customer_id,product_name:e.product_name,product_sku:e.product_sku,out_time:e.out_time,out_count:e.count,record_code:t,status:"false",out_source:"客户"}}).then((function(e){console.log("添加出库记录信息成功")})).catch((function(e){}))},insertAddress:function(e,t){var a=this;t.record_code=e,t.product_code=this.solidSelection[0].product_code,console.log(t),this.$http({method:"post",url:"api/insert/insertAddress",data:t}).then((function(e){console.log("添加地址成功"),a.$message.success("添加地址成功")})).catch((function(e){}))},updateProduct:function(e,t){var a=this;e.record_code=t,e.out_count=String(Number(e.out_count)+Number(e.count)),this.$http({method:"post",url:"api/update/updateProduct",data:e}).then((function(e){a.refreshGetAllProduct()})).catch((function(e){}))},getData:function(){var e=this;this.$http({method:"post",url:"api/query/getSingleProductLocate",data:{customer_info:this.formData.customer_info,customer_id:this.customer_id}}).then((function(t){if(e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;if("company_name"==s)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)}},watch:{formData:{handler:function(e,t){this.debounce(this.getData,1e3)},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)}},mounted:function(){var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t,this.refreshFormSearch()},created:function(){this.customer_id=sessionStorage.getItem("userName"),this.level=sessionStorage.getItem("userLevel")}},Ze=We,Je=(a("19f6"),Object(l["a"])(Ze,Ye,Ke,!1,null,"3272327a",null)),Xe=Je.exports,et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("el-row",{staticClass:"content-container"},[a("el-col",{attrs:{span:9}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息:",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请输入客户编号或公司名称，为空时查询所有"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1)],1),a("div",[a("el-row",{staticStyle:{"padding-top":"10px"}},[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name"}}),a("el-table-column",{attrs:{align:"center",label:"入库时间",prop:"come_time",width:"110px"}}),a("el-table-column",{attrs:{align:"center",label:"货品名称",prop:"product_name"}}),a("el-table-column",{attrs:{align:"center",label:"货品SKU",prop:"product_sku"}}),a("el-table-column",{attrs:{align:"center",label:"数量",prop:"storage_count"}}),a("el-table-column",{attrs:{align:"center",label:"仓储天数",prop:"save_days"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1),a("el-dialog",{staticClass:"productPage-addForm",attrs:{"close-on-click-modal":!1,title:"-添加货品信息-",visible:e.addDV,width:"35%","before-close":e.handleClose},on:{"update:visible":function(t){e.addDV=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addRules,"label-width":"120px"}},[a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"customer_id",label:"客户编号:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.customer_id,callback:function(t){e.$set(e.addForm,"customer_id",t)},expression:"addForm.customer_id"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"come_time",label:"入库时间:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-date-picker",{attrs:{"picker-options":e.pickerOption,type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.addForm.come_time,callback:function(t){e.$set(e.addForm,"come_time",t)},expression:"addForm.come_time"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"product_name",label:"货品名称:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.product_name,callback:function(t){e.$set(e.addForm,"product_name",t)},expression:"addForm.product_name"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"product_sku",label:"货品SKU:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.product_sku,callback:function(t){e.$set(e.addForm,"product_sku",t)},expression:"addForm.product_sku"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"storage_count",label:"初始数量:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.storage_count,callback:function(t){e.$set(e.addForm,"storage_count",t)},expression:"addForm.storage_count"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"save_days",label:"仓储天数:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{attrs:{disabled:""},model:{value:e.addForm.save_days,callback:function(t){e.$set(e.addForm,"save_days",t)},expression:"addForm.save_days"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.checkCustomerId()}}},[e._v("提 交")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.addDV=!1}}},[e._v("取 消")])],1)],1)],1)},tt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("货品入库")])])}],at={data:function(){return{customer_id:"",tableHeight:.65*window.innerHeight,times:0,timer:null,loading:!1,addCount:0,today_date:"",pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}},isDel:!0,addDV:!1,productReqUrl:"",productReqData:{},nameTipsArray:[],formData:{customer_info:""},queryResData:[],customer_info_list:[],addForm:{customer_id:"",come_time:"",product_name:"",product_sku:"",storage_count:"",save_days:"",out_count:"0",record_code:"",status:"待出库",product_code:"",out_time:"1970-01-01"},updateForm:{customer_id:"",come_time:"",product_name:"",product_sku:"",storage_count:"",save_days:"",out_count:"0",status:"待出库",product_code:"",record_code:""},louqueForm:{customer_id:"客户编号",come_time:"入库时间",product_name:"货品名称",product_sku:"货品SKU",storage_count:"初始数量",save_days:"仓储天数",out_count:"出库数量",status:"状态",record_code:"出库码"},rules:{customer_info:[{message:"请输入客户信息",required:!0,trigger:["blur","change"]}]},addRules:{customer_id:[{message:"请输入客户编号",required:!0,trigger:["blur","change"]}],come_time:[{message:"请输入入库时间",required:!0,trigger:["blur","change"]}],product_name:[{message:"请输入货品名称",required:!0,trigger:["blur","change"]}],product_sku:[{message:"请输入货品SKU",required:!0,trigger:["blur","change"]}],storage_count:[{message:"请输入初始数量",required:!0,trigger:["blur","change"]}],out_count:[{message:"请输入出库数量",required:!0,trigger:["blur","change"]}],status:[{message:"请选择货品状态",required:!0,trigger:["blur","change"]}]},queryPage:{pageSize:10,currentPage:1},multipleSelection:[],solidSelection:[]}},methods:{handleClose:function(){this.addDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){0==e.length?this.isDel=!0:this.isDel=!1,this.multipleSelection=e},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"/api/query/getSingleProductLocateByTime",data:{customer_info:this.formData.customer_info,customer_id:this.customer_id}}).then((function(t){if(console.log(t),e.loading=!1,e.queryResData=[],0!=t.data.length){console.log(t),e.queryResData=[];var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.storage_count)-Number(r.out_count),r.count="",e.queryResData.push(r)}}catch(l){o.e(l)}finally{o.f()}console.log(e.queryResData)}})).catch((function(t){e.$message.error(t)}))},refreshFormSearch:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getProductLocateByTime",data:{customer_info:sessionStorage.getItem("userName")}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,"")}}catch(l){o.e(l)}finally{o.f()}console.log(t.data),e.queryResData=t.data}})).catch((function(t){e.$message.error(t)}))},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getData:function(){var e=this;console.log(this.customer_id),console.log(this.formData.customer_info),this.$http({method:"post",url:"api/query/getSingleProductLocate",data:{customer_info:this.formData.customer_info,customer_id:this.customer_id}}).then((function(t){if(e.customer_info_list=t.data,console.log(t),""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)},deleteSubmit:function(){var e=this;this.$confirm("确定删除客户信息?").then((function(){e.solidSelection=e.multipleSelection;while(0!=e.solidSelection.length)e.deleteProduct(),e.solidSelection.shift();e.$message.success("删除客户信息成功!")})).catch((function(t){e.$message.warning("取消删除")}))},deleteProduct:function(){var e=this;this.$http({method:"post",url:"api/delete/deleteProduct",data:{customer_id:this.solidSelection[0].customer_id,product_code:this.solidSelection[0].product_code}}).then((function(t){e.refreshFormSearch()})).catch((function(t){e.$message.error(t)}))},addOpen:function(){""!=this.formData.customer_info&&(this.addForm.customer_id=this.formData.customer_info),this.addDV=!0},addSubmit:function(){var e=this,t=!1;for(var a in console.log(this.addForm),this.addForm)if("product_code"!=a&&"out_time"!=a&&"record_code"!=a&&""==this.addForm[a])return void this.$message.error("存在漏缺项 “".concat(this.louqueForm[a],"” "));console.log(this.addForm.product_name),this.$http({method:"post",url:"api/query/getSameSku",data:{customer_id:this.addForm.customer_id,product_name:this.addForm.product_name,product_sku:this.addForm.product_sku}}).then((function(a){console.log(a),0==a.data.length?(t=!0,console.log(a)):(t=!1,console.log("结果不为0")),t?(e.addForm.product_code=Math.random().toString(16).slice(2,15),e.$http({method:"post",url:"api/insert/insertProduct",data:e.addForm}).then((function(t){e.$message.success("添加成功!"),e.addDV=!1,console.log(t),e.refreshFormSearch()})).catch((function(e){console.log(e)}))):(e.updateForm=e.addForm,e.updateForm.product_code=a.data[0].product_code,e.updateForm.storage_count=String(Number(a.data[0].storage_count)+Number(e.addForm.storage_count)),e.updateForm.out_count=String(Number(a.data[0].out_count)),console.log(e.updateForm),e.$http({method:"post",url:"api/update/updateProduct",data:e.updateForm}).then((function(t){e.$message.success("更新数据成功"),e.addDV=!1,e.refreshFormSearch(),console.log(e.updateForm),console.log(t)})).catch((function(e){console.log(e)})))})).catch((function(e){console.log(e)}))},checkCustomerId:function(){var e=this;this.$http({method:"post",url:"api/query/getCustomerId",data:{customer_id:this.addForm.customer_id}}).then((function(t){0==t.data.length?e.$message.warning("不存在编号为".concat(e.addForm.customer_id,"的客户，请重新输入！")):e.addSubmit()})).catch((function(e){}))}},watch:{formData:{handler:function(e,t){this.debounce(this.getData,1e3)},deep:!0},addForm:{handler:function(e,t){if(""!=this.addForm.come_time){var a=Date.parse(new Date(e.come_time)),o=Date.parse(new Date(this.today_date)),r=parseInt((o-a)/864e5);e.save_days=isNaN(r)||r<0?0:r+1}},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)}},mounted:function(){var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t,this.refreshFormSearch()},created:function(){this.customer_id=sessionStorage.getItem("userName"),this.level=sessionStorage.getItem("userLevel")}},ot=at,rt=(a("c9f0"),Object(l["a"])(ot,et,tt,!1,null,"de89de62",null)),it=rt.exports,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("el-row",{staticClass:"content-container"},[a("el-col",{attrs:{span:9}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息:",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请输入客户编号或公司名称，为空时查询所有"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1)],1),a("div",[a("el-row",[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name"}}),a("el-table-column",{attrs:{align:"center",label:"货品名称",prop:"product_name"}}),a("el-table-column",{attrs:{align:"center",label:"货品SKU",prop:"product_sku"}}),a("el-table-column",{attrs:{align:"center",label:"入仓数量",prop:"storage_count"}}),a("el-table-column",{attrs:{align:"center",label:"剩余数量",prop:"leave_count"}}),a("el-table-column",{attrs:{align:"center",label:"仓储天数",prop:"save_days"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1)},st=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("货品清单")])])}],lt={data:function(){return{customer_id:"",tableHeight:.65*window.innerHeight,times:0,timer:null,loading:!1,today_date:"",pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}},isDel:!0,productReqUrl:"",productReqData:{},locateReqUrl:"/api/query/getLocateCustomerId",locateReqData:{},nameTipsArray:[],formData:{customer_info:""},queryResData:[],customer_info_list:[],louqueForm:{customer_id:"客户编号",come_time:"入库时间",product_name:"货品名称",product_sku:"货品SKU",storage_count:"初始数量",save_days:"仓储天数",out_count:"出库数量",status:"状态"},rules:{customer_info:[{message:"请输入客户信息",required:!0,trigger:["blur","change"]}]},queryPage:{pageSize:10,currentPage:1},multipleSelection:[],solidSelection:[]}},methods:{handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){0==e.length?this.isDel=!0:this.isDel=!1,this.multipleSelection=e},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"/api/query/getSingleProductLocateByName",data:{customer_info:this.formData.customer_info,customer_id:this.customer_id}}).then((function(t){if(console.log(t),e.loading=!1,e.queryResData=[],0!=t.data.length){console.log(t),e.queryResData=[];var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.storage_count)-Number(r.out_count),r.count="",e.queryResData.push(r)}}catch(l){o.e(l)}finally{o.f()}console.log(e.queryResData)}})).catch((function(t){e.$message.error(t)}))},refreshFormSearch:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getProductLocateByName",data:{customer_info:sessionStorage.getItem("userName")}}).then((function(t){if(console.log(t),e.loading=!1,e.queryResData=[],0!=t.data.length){var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.storage_count)-Number(r.out_count)}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}})).catch((function(t){e.$message.error(t)}))},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getData:function(){var e=this;console.log(this.customer_id),console.log(this.formData.customer_info),this.$http({method:"post",url:"api/query/getSingleProductLocate",data:{customer_info:this.formData.customer_info,customer_id:this.customer_id}}).then((function(t){if(e.customer_info_list=t.data,console.log(t),""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)},deleteSubmit:function(){var e=this;this.$confirm("确定删除客户信息?").then((function(){e.solidSelection=e.multipleSelection;while(0!=e.solidSelection.length)e.deleteProduct(),e.solidSelection.shift();e.$message.success("删除客户信息成功!")})).catch((function(t){e.$message.warning("取消删除")}))},deleteProduct:function(){var e=this;this.$http({method:"post",url:"api/delete/deleteProduct",data:{customer_id:this.solidSelection[0].customer_id,product_code:this.solidSelection[0].product_code}}).then((function(t){e.refreshFormSearch()})).catch((function(t){e.$message.error(t)}))}},watch:{formData:{handler:function(e,t){/[0-9a-z]/i.test(this.formData.customer_info)?(this.locateReqUrl="/api/query/getLocateCustomerId",this.locateReqData={customer_id:e.customer_info}):(this.locateReqUrl="api/query/getLocateCompanyName",this.locateReqData={company_name:e.customer_info}),this.debounce(this.getData,1e3)},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)},totalLeaveCount:function(){var e,t=0,a=Object(H["a"])(this.queryResData);try{for(a.s();!(e=a.n()).done;){var o=e.value;t+=o.leave_count}}catch(r){a.e(r)}finally{a.f()}return t}},mounted:function(){var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t,this.refreshFormSearch()},created:function(){this.customer_id=sessionStorage.getItem("userName"),this.level=sessionStorage.getItem("userLevel")}},ct=lt,ut=Object(l["a"])(ct,nt,st,!1,null,"f95c7406",null),dt=ut.exports,mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",[a("el-row",{staticClass:"content-container"},[a("el-col",{attrs:{span:10}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息:",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请输入客户编号或公司名称，为空时查询所有"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1)],1),a("el-row",[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"入库时间",prop:"come_time",width:"200px"}}),a("el-table-column",{attrs:{align:"center",label:"箱号",prop:"product_name",width:"200px"}}),a("el-table-column",{attrs:{align:"center",label:"规格(cm)",prop:"length_width_height",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"抛重重量(lb)",prop:"weight",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"实际重量(lb)",prop:"real_weight",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"数量",prop:"save_days"}}),a("el-table-column",{attrs:{align:"center",label:"仓储天数",prop:"save_days"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1),a("el-dialog",{staticClass:"productPage-addForm",attrs:{"close-on-click-modal":!1,title:"-添加箱子信息-",visible:e.addDV,width:"35%","before-close":e.handleClose},on:{"update:visible":function(t){e.addDV=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addRules,"label-width":"140px"}},[a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"customer_id",label:"客户编号:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.customer_id,callback:function(t){e.$set(e.addForm,"customer_id",t)},expression:"addForm.customer_id"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"come_time",label:"入库时间:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-date-picker",{attrs:{"picker-options":e.pickerOption,type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.addForm.come_time,callback:function(t){e.$set(e.addForm,"come_time",t)},expression:"addForm.come_time"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"product_name",label:"箱子名称:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.product_name,callback:function(t){e.$set(e.addForm,"product_name",t)},expression:"addForm.product_name"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"length_width_height",label:"规格(cm):"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.length_width_height,callback:function(t){e.$set(e.addForm,"length_width_height",t)},expression:"addForm.length_width_height"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"weight",label:"抛重重量(lb):"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{attrs:{disabled:""},model:{value:e.addForm.weight,callback:function(t){e.$set(e.addForm,"weight",t)},expression:"addForm.weight"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"real_weight",label:"实际重量(lb):"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.real_weight,callback:function(t){e.$set(e.addForm,"real_weight",t)},expression:"addForm.real_weight"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"count",label:"仓储数量:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addForm.count,callback:function(t){e.$set(e.addForm,"count",t)},expression:"addForm.count"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{prop:"save_days",label:"仓储天数:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{attrs:{disabled:""},model:{value:e.addForm.save_days,callback:function(t){e.$set(e.addForm,"save_days",t)},expression:"addForm.save_days"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.checkCustomerId()}}},[e._v("提 交")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.addDV=!1}}},[e._v("取 消")])],1)],1)],1)},ht=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("箱子入库")])])}],pt={data:function(){return{tableHeight:.65*window.innerHeight,times:0,timer:null,loading:!1,today_date:"",isDel:!0,multipleSelection:[],solidSelection:[],pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}},addDV:!1,boxReqUrl:"",boxReqData:{},locateReqUrl:"/api/query/getLocateCustomerId",locateReqData:{},nameTipsArray:[],formData:{customer_info:""},queryResData:[],customer_info_list:[],louqueForm:{customer_id:"客户编号",come_time:"入库时间",product_name:"箱子名称",length_width_height:"规格(cm)",weight:"抛重重量(lb)",count:"初始数量",save_days:"仓储天数",out_count:"出库数量",box_code:"箱子码",status:"状态"},addForm:{customer_id:"",come_time:"",product_name:"",length_width_height:"",weight:"",real_weight:"",count:"",save_days:"",out_count:"0",box_code:"",status:"待出库",out_time:"1970-01-01",record_code:""},rules:{customer_info:[{message:"请输入客户信息",required:!0,trigger:["blur","change"]}]},addRules:{customer_id:[{message:"请输入客户编号",required:!0,trigger:["blur","change"]}],come_time:[{message:"请选择入库时间",required:!0,trigger:["blur","change"]}],product_name:[{message:"请输入箱子名称",required:!0,trigger:["blur","change"]}],length_width_height:[{message:"请输入规格(cm),例如'30*40*50'",required:!0,trigger:["blur","change"]}],real_weight:[{message:"请输入实际重量(lb)",required:!0,trigger:["blur","change"]}],count:[{message:"请输入初始数量",required:!0,trigger:["blur","change"]}],save_days:[{message:"请输入仓储天数",required:!0,trigger:["blur","change"]}],out_count:[{message:"请输入出库数量",required:!0,trigger:["blur","change"]}],status:[{message:"请选择库存状态",required:!0,trigger:["blur","change"]}]},queryPage:{pageSize:10,currentPage:1}}},methods:{handleClose:function(){this.addDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){0==e.length?this.isDel=!0:this.isDel=!1,this.multipleSelection=e},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){this.getBox()},refreshFormSearch:function(){this.refreshGetBox()},getBox:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getSingleBoxLocateByName",data:{customer_info:this.formData.customer_info,customer_id:this.customer_id}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.count)-Number(r.out_count)}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},refreshGetBox:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getBoxLocateByName",data:{customer_info:this.customer_id}}).then((function(t){if(e.loading=!1,e.queryResData=[],console.log(t),0!=t.data.length){var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.count)-Number(r.out_count)}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}})).catch((function(t){e.$message.error(t)}))},deleteSubmit:function(){var e=this;this.$confirm("确定删除客户信息?").then((function(){e.solidSelection=e.multipleSelection;while(0!=e.solidSelection.length)e.deleteBox(),e.solidSelection.shift();e.$message.success("删除客户信息成功!")})).catch((function(t){e.$message.warning("取消删除")}))},deleteBox:function(){var e=this;this.$http({method:"post",url:"api/delete/deleteBox",data:{customer_id:this.solidSelection[0].customer_id,box_code:this.solidSelection[0].box_code}}).then((function(t){e.refreshFormSearch()})).catch((function(t){e.$message.error(t)}))},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getData:function(){var e=this;this.$http({method:"post",url:"api/query/getBoxLocate",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)}},watch:{formData:{handler:function(e,t){this.debounce(this.getData,1e3)},deep:!0},addForm:{handler:function(e,t){if(""!=this.addForm.come_time){var a=Date.parse(new Date(e.come_time)),o=Date.parse(new Date(this.today_date)),r=parseInt((o-a)/864e5);e.save_days=isNaN(r)||r<0?0:r+1}if(this.addForm.length_width_height.length>4){var i=this.addForm.length_width_height.split("*");if(3==i.length){var n=Math.floor(i[0]*i[1]*i[2]/6e3/.452);this.addForm.weight=n}}},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)}},mounted:function(){var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t,this.refreshGetBox()},created:function(){this.customer_id=sessionStorage.getItem("userName"),this.level=sessionStorage.getItem("userLevel")}},gt=pt,ft=(a("5092"),Object(l["a"])(gt,mt,ht,!1,null,"fff8841c",null)),_t=ft.exports,yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",[a("el-row",{staticClass:"content-container"},[a("el-col",{attrs:{span:10}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息:",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请输入客户编号或公司名称，为空时查询所有"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1)],1),a("el-row",[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"箱号",prop:"product_name",width:"200px"}}),a("el-table-column",{attrs:{align:"center",label:"规格(cm)",prop:"length_width_height",width:"150px"}}),a("el-table-column",{attrs:{align:"center",label:"抛重重量(lb)",prop:"weight",width:"150"}}),a("el-table-column",{attrs:{align:"center",label:"实际重量(lb)",prop:"real_weight",width:"150"}}),a("el-table-column",{attrs:{align:"center",label:"入仓数量",prop:"count"}}),a("el-table-column",{attrs:{align:"center",label:"剩余数量",prop:"leave_count"}}),a("el-table-column",{attrs:{align:"center",label:"入库时间",prop:"come_time",width:"110px"}}),a("el-table-column",{attrs:{align:"center",label:"仓储天数",prop:"save_days"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])},bt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("箱子清单")])])}],vt={data:function(){return{customer_id:"",tableHeight:.65*window.innerHeight,times:0,timer:null,loading:!1,today_date:"",isDel:!0,multipleSelection:[],solidSelection:[],pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}},addDV:!1,boxReqUrl:"",boxReqData:{},locateReqUrl:"/api/query/getLocateCustomerId",locateReqData:{},nameTipsArray:[],formData:{customer_info:""},queryResData:[],customer_info_list:[],louqueForm:{customer_id:"客户编号",come_time:"入库时间",product_name:"箱子名称",length_width_height:"规格(cm)",weight:"重量(lb)",count:"初始数量",save_days:"仓储天数",out_count:"出库数量",box_code:"箱子码",status:"状态"},addForm:{customer_id:"",come_time:"",product_name:"",length_width_height:"",weight:"",count:"",save_days:"",out_count:"",box_code:"",status:""},rules:{customer_info:[{message:"请输入客户信息",required:!0,trigger:["blur","change"]}]},queryPage:{pageSize:10,currentPage:1}}},methods:{handleClose:function(){this.addDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){0==e.length?this.isDel=!0:this.isDel=!1,this.multipleSelection=e},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){this.getBox()},refreshFormSearch:function(){this.refreshGetBox()},getBox:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getSingleBoxLocateByName",data:{customer_info:this.formData.customer_info,customer_id:this.customer_id}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.count),r.count=Number(r.count)+Number(r.out_count)}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},refreshGetBox:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getBoxLocateByName",data:{customer_info:this.customer_id}}).then((function(t){if(e.loading=!1,e.queryResData=[],console.log(t),0!=t.data.length){var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value,i=Date.parse(new Date(r.come_time)),n=Date.parse(new Date(e.today_date)),s=parseInt((n-i)/864e5);r.save_days=isNaN(s)||s<0?0:s,r.come_time=Q(r.come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),r.leave_count=Number(r.count),r.count=Number(r.count)+Number(r.out_count)}}catch(l){o.e(l)}finally{o.f()}e.queryResData=t.data}})).catch((function(t){e.$message.error(t)}))},deleteSubmit:function(){var e=this;this.$confirm("确定删除客户信息?").then((function(){e.solidSelection=e.multipleSelection;while(0!=e.solidSelection.length)e.deleteBox(),e.solidSelection.shift();e.$message.success("删除客户信息成功!")})).catch((function(t){e.$message.warning("取消删除")}))},deleteBox:function(){var e=this;this.$http({method:"post",url:"api/delete/deleteBox",data:{customer_id:this.solidSelection[0].customer_id,box_code:this.solidSelection[0].box_code}}).then((function(t){e.refreshFormSearch()})).catch((function(t){e.$message.error(t)}))},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getData:function(){var e=this;console.log(this.formData.customer_info),console.log(this.customer_id),this.$http({method:"post",url:"api/query/getSingleBoxLocate",data:{customer_info:this.formData.customer_info,customer_id:this.customer_id}}).then((function(t){if(console.log(t),e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)},addOpen:function(){""!=this.formData.customer_info&&(this.addForm.customer_id=this.formData.customer_info),this.addDV=!0},addSubmit:function(){var e=this;for(var t in this.addForm)if("box_code"!=t&&""==this.addForm[t])return void this.$message.error("存在漏缺项--".concat(this.louqueForm[t],"--"));this.addForm.box_code=Math.random().toString(16).slice(2,15),this.$http({method:"post",url:"api/insert/insertBox",data:this.addForm}).then((function(t){e.$message.success("添加成功!"),e.refreshGetBox(),e.addDV=!1})).catch((function(e){}))},checkCustomerId:function(){var e=this;this.$http({method:"post",url:"api/query/getCustomerId",data:{customer_id:this.addForm.customer_id}}).then((function(t){0==t.data.length?e.$message.warning("不存在编号为".concat(e.addForm.customer_id,"的客户，请重新输入！")):e.addSubmit()})).catch((function(e){}))}},watch:{formData:{handler:function(e,t){/[0-9a-z]/i.test(this.formData.customer_info)?(this.locateReqUrl="/api/query/getLocateCustomerId",this.locateReqData={customer_id:e.customer_info}):(this.locateReqUrl="api/query/getLocateCompanyName",this.locateReqData={company_name:e.customer_info}),this.debounce(this.getData,1e3)},deep:!0},addForm:{handler:function(e,t){if(""!=this.addForm.come_time){var a=Date.parse(new Date(e.come_time)),o=Date.parse(new Date(this.today_date)),r=parseInt((o-a)/864e5);e.save_days=isNaN(r)||r<0?0:r+1}if(this.addForm.length_width_height.length>4){var i=this.addForm.length_width_height.split("*");if(3==i.length){var n=Math.floor(i[0]*i[1]*i[2]/6e3/.452);this.addForm.weight=n}}},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)},totalLeaveCount:function(){var e,t=0,a=Object(H["a"])(this.queryResData);try{for(a.s();!(e=a.n()).done;){var o=e.value;t+=o.leave_count}}catch(r){a.e(r)}finally{a.f()}return t}},mounted:function(){var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t,this.refreshFormSearch()},created:function(){this.customer_id=sessionStorage.getItem("userName"),this.level=sessionStorage.getItem("userLevel")}},Dt=vt,wt=(a("464a"),Object(l["a"])(Dt,yt,bt,!1,null,"da90496e",null)),St=wt.exports,xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",[a("el-row",{staticClass:"content-container"},[a("el-col",{attrs:{span:10}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息:",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请输入客户编号或公司名称，为空时查询所有"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1)],1),a("el-row",{staticStyle:{"padding-top":"5px"}},[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData}},[a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name"}}),a("el-table-column",{attrs:{align:"center",label:"名称",prop:"product_name",width:"270px"}}),a("el-table-column",{attrs:{align:"center",label:"货品SKU",prop:"product_sku"}}),a("el-table-column",{attrs:{align:"center",label:"出库时间",prop:"out_time"}}),a("el-table-column",{attrs:{align:"center",label:"出库数量",prop:"out_count"}}),a("el-table-column",{attrs:{align:"center",label:"操作员",prop:"out_source"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])},qt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("出库记录")])])}],Ft={data:function(){return{customer_id:"",tableHeight:.65*window.innerHeight,times:0,timer:null,loading:!1,isDel:!0,multipleSelection:[],solidSelection:[],outRecordReqUrl:"",outRecordReqData:{},nameTipsArray:[],formData:{customer_info:""},queryResData:[],customer_info_list:[],queryPage:{pageSize:10,currentPage:1}}},methods:{handleClose:function(){this.addDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){this.getOutRecord()},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getOutRecord:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getSingleOutRecordLocateByTime",data:{customer_info:this.formData.customer_info,customer_id:this.customer_id}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){e.queryResData=[],e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value;"true"!=r.status&&(r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),e.queryResData.push(r))}}catch(i){o.e(i)}finally{o.f()}}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},getAllOutRecord:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"/api/query/getOutRecordLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],e.queryResData=[],0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value;"true"!=r.status&&(r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),e.queryResData.push(r))}}catch(i){o.e(i)}finally{o.f()}}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},refreshGetAllOutRecord:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"/api/query/getSingleOutRecordLocateByTime",data:{customer_info:this.formData.customer_info,customer_id:this.customer_id}}).then((function(t){e.loading=!1,e.queryResData=[],console.log(t),e.queryResData=[];var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value;"true"!=r.status&&(r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),e.queryResData.push(r))}}catch(i){o.e(i)}finally{o.f()}})).catch((function(t){e.$message.error(t)}))},getData:function(){var e=this;this.$http({method:"post",url:"api/query/getSingleOutRecordLocate",data:{customer_info:this.formData.customer_info,customer_id:this.customer_id}}).then((function(t){if(console.log(t),e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)}},watch:{formData:{handler:function(e,t){/[0-9a-z]/i.test(this.formData.customer_info)?(this.locateReqUrl="/api/query/getLocateCustomerId",this.locateReqData={customer_id:e.customer_info}):(this.locateReqUrl="api/query/getLocateCompanyName",this.locateReqData={company_name:e.customer_info}),this.debounce(this.getData,1e3)},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)}},mounted:function(){this.refreshGetAllOutRecord();var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t},created:function(){this.customer_id=sessionStorage.getItem("userName"),this.level=sessionStorage.getItem("userLevel")}},$t=Ft,Ct=(a("3bed"),Object(l["a"])($t,xt,qt,!1,null,"dd381f64",null)),Rt=Ct.exports,kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",{staticClass:"content-container"},[a("el-row",[a("el-col",{staticStyle:{width:"31%"}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请搜索客户编号或公司名称"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1),a("el-col",{attrs:{span:2}},[a("div",{staticStyle:{"padding-top":"5px"}},[e._v("时间选择")])]),a("el-col",{attrs:{span:5}},[a("el-date-picker",{attrs:{"picker-options":e.pickerOption,type:"date",placeholder:"选择日期","value-format":"yyyy-M-d"},model:{value:e.choose_time,callback:function(t){e.choose_time=t},expression:"choose_time"}})],1)],1),a("el-row",{staticStyle:{"padding-top":"5px"}},[a("el-col",{staticClass:"customer-table",attrs:{span:20}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",label:"客户编号",prop:"customer_id"}}),a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name"}}),a("el-table-column",{attrs:{align:"center",label:"日期",prop:"trading_date"}}),a("el-table-column",{attrs:{align:"center",label:"内容",prop:"trading_content"}}),a("el-table-column",{attrs:{align:"center",label:"金额",prop:"trading_amount"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:20}},[a("el-pagination",{staticClass:"customer-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])},Pt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("财务系统")])])}],Ot={data:function(){return{tableHeight:.65*window.innerHeight,loading:!1,queryPage:{pageSize:10,currentPage:1},formData:{customer_info:""},choose_time:"",pickerOption:{disabledDate:function(e){return e.getTime()>Date.now()}},queryResData:[],locateReqUrl:"/api/query/getLocateCustomerId",locateReqData:{},nameTipsArray:[],addForm:{customer_id:"",company_name:"",first_come_time:""},multipleSelection:[],solidSelection:[],addRules:{}}},methods:{handleClose:function(){this.addDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){0==e.length?this.isDel=!0:this.isDel=!1,this.multipleSelection=e},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getData:function(){var e=this;this.$http({method:"post",url:"api/query/getTradingLocate",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)},formSearch:function(){var e=this;null==this.choose_time&&(this.choose_time=""),this.loading=!0,this.$http({method:"post",url:"api/query/getTradingByName",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length||""==e.choose_time)if(0!=t.data.length||""!=e.choose_time){if(0!=t.data.length){console.log("查询结果不为空"),e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value;r.trading_date=Q(r.trading_date).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,"").replace(/\//g,"-")}}catch(l){o.e(l)}finally{o.f()}if(""!=e.choose_time){e.queryResData=[];var i,n=Object(H["a"])(t.data);try{for(n.s();!(i=n.n()).done;){var s=i.value;s.trading_date==e.choose_time&&e.queryResData.push(s)}}catch(l){n.e(l)}finally{n.f()}if(0==e.queryResData.length)return void(""!=e.choose_time&&null!=e.choose_time&&e.$message.warning("没有查到日期".concat(e.choose_time,"的数据")))}else e.queryResData=t.data}}else e.$message.warning("未查询到相关数据");else e.$message.warning("没有查到日期".concat(e.choose_time,"的数据"))})).catch((function(t){e.$message.error(t)}))},refreshFormSearch:function(){var e=this;null==this.choose_time&&(this.choose_time=""),this.loading=!0,this.$http({method:"post",url:"api/query/getTradingByName",data:{customer_info:this.formData.customer_info}}).then((function(t){if(console.log(t),e.loading=!1,e.queryResData=[],0!=t.data.length||""==e.choose_time&&null==e.choose_time)if(0!=t.data.length||""!=e.choose_time&&null!=e.choose_time){if(e.loading=!1,e.queryResData=[],0!=t.data.length){var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value;r.trading_date=Q(r.trading_date).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,"").replace(/\//g,"-")}}catch(l){o.e(l)}finally{o.f()}if(""!=e.choose_time){e.queryResData=[];var i,n=Object(H["a"])(t.data);try{for(n.s();!(i=n.n()).done;){var s=i.value;s.trading_date==e.choose_time&&e.queryResData.push(s)}}catch(l){n.e(l)}finally{n.f()}if(0==e.queryResData.length)return void(""!=e.choose_time&&null!=e.choose_time&&e.$message.warning("没有查到日期".concat(e.choose_time,"的数据")))}else console.log("时间未选择，直接搜索全部"),e.queryResData=t.data}}else e.$message.warning("未查询到相关数据");else e.$message.warning("没有查到日期".concat(e.choose_time,"的数据"))})).catch((function(t){e.$message.error(t)}))},resetForm:function(e){var t=this.$refs[e];t.resetFields()}},watch:{formData:{handler:function(e,t){this.debounce(this.getData,1e3)},deep:!0},choose_time:function(e,t){""!=e&&this.refreshFormSearch()}},mounted:function(){this.refreshFormSearch()},computed:{computedQueryResData:function(){return this.queryResData.slice((this.queryPage.currentPage-1)*this.queryPage.pageSize,this.queryPage.currentPage*this.queryPage.pageSize)}},created:function(){"管理员"==sessionStorage.getItem("userLevel")||(this.$message.warning("你没有权限使用此功能!"),this.$router.push("/"))}},Tt=Ot,zt=Object(l["a"])(Tt,kt,Pt,!1,null,null,null),Nt=zt.exports,jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",{staticClass:"content-container"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息:",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请输入客户编号或公司名称，为空时查询所有"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1)],1),a("el-row",{staticStyle:{"padding-top":"5px"}},[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"100px"}}),a("el-table-column",{attrs:{align:"center",label:"客户编号",prop:"customer_id"}}),a("el-table-column",{attrs:{align:"center",label:"公司",prop:"company_name"}}),a("el-table-column",{attrs:{align:"center",label:"产品",prop:"product_name",width:"270px"}}),a("el-table-column",{attrs:{align:"center",label:"sku",prop:"product_sku"}}),a("el-table-column",{attrs:{align:"center",label:"下单数量",prop:"out_count"}}),a("el-table-column",{attrs:{align:"center",label:"地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{staticStyle:{"font-size":"16px"},attrs:{type:"primary"},on:{click:function(a){return e.showAddress(t)}}},[e._v("查看详情")])]}}])})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-row",{staticClass:"padding_tb padding_lr",attrs:{type:"flex"}},[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"danger",disabled:e.isDel},on:{click:e.deleteSubmit}},[e._v("删除")])],1)],1)],1),a("el-dialog",{staticClass:"cus-dialog-style",attrs:{"close-on-click-modal":!1,title:"-送货地址详情-",visible:e.addDV,width:"55%","before-close":e.handleClose},on:{"update:visible":function(t){e.addDV=t}}},[a("el-form",{ref:"addressForm",attrs:{"label-width":"340px"},model:{value:e.addressForm,callback:function(t){e.addressForm=t},expression:"addressForm"}},[a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{required:"",label:"买家地址 Enter customer address:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addressForm.customer_address,callback:function(t){e.$set(e.addressForm,"customer_address",t)},expression:"addressForm.customer_address"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{required:"",label:"全名 Full name:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addressForm.full_name,callback:function(t){e.$set(e.addressForm,"full_name",t)},expression:"addressForm.full_name"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{required:"",label:"街道地址1 Street address1:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addressForm.street_address1,callback:function(t){e.$set(e.addressForm,"street_address1",t)},expression:"addressForm.street_address1"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{required:"",label:"街道地址2 Street address2:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addressForm.street_address2,callback:function(t){e.$set(e.addressForm,"street_address2",t)},expression:"addressForm.street_address2"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{required:"",label:"城市 City:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addressForm.city,callback:function(t){e.$set(e.addressForm,"city",t)},expression:"addressForm.city"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{required:"",label:"州/省 State/Province:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addressForm.province,callback:function(t){e.$set(e.addressForm,"province",t)},expression:"addressForm.province"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{required:"",label:"邮编 Zip / Postal code:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addressForm.zip,callback:function(t){e.$set(e.addressForm,"zip",t)},expression:"addressForm.zip"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{label:"手机电话(可选) Phone number:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addressForm.phone_number,callback:function(t){e.$set(e.addressForm,"phone_number",t)},expression:"addressForm.phone_number"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"15px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{label:"邮箱地址(可选) Email address:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.addressForm.email_address,callback:function(t){e.$set(e.addressForm,"email_address",t)},expression:"addressForm.email_address"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.addDV=!1}}},[e._v("取 消")])],1)],1)],1)},Lt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("代发中心")])])}],It={data:function(){return{tableHeight:.65*window.innerHeight,times:0,timer:null,loading:!1,isDel:!0,multipleSelection:[],solidSelection:[],outRecordReqUrl:"",outRecordReqData:{},locateReqUrl:"/api/query/getLocateCustomerId",locateReqData:{},nameTipsArray:[],addDV:!1,addressForm:{customer_address:"",full_name:"",street_address1:"",street_address2:"",city:"",province:"",zip:"",phone_number:"",email_address:"",product_code:"",box_code:"",record_code:""},formData:{customer_info:""},queryResData:[],customer_info_list:[],queryPage:{pageSize:10,currentPage:1}}},methods:(Y={handleClose:function(){this.addDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){console.log(e),0==e.length?this.isDel=!0:this.isDel=!1,this.multipleSelection=e},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){this.getOutRecord()},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getOutRecord:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getOutRecordLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){e.queryResData=[],e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value;console.log(r.out_source),"true"!=r.status&&"客户"==r.out_source&&(r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),e.queryResData.push(r))}}catch(i){o.e(i)}finally{o.f()}}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},getAllOutRecord:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"/api/query/getAllOutRecord"}).then((function(t){if(e.loading=!1,e.queryResData=[],e.queryResData=[],0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value;"true"!=r.status&&"客户"==r.out_source&&(r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),e.queryResData.push(r))}}catch(i){o.e(i)}finally{o.f()}}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},refreshGetAllOutRecord:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"/api/query/getAllOutRecord"}).then((function(t){e.loading=!1,e.queryResData=[],console.log(t),e.queryResData=[];var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value;"true"!=r.status&&"客户"==r.out_source&&(r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),e.queryResData.push(r))}}catch(i){o.e(i)}finally{o.f()}})).catch((function(t){e.$message.error(t)}))},deleteSubmit:function(){var e=this;this.$confirm("确定删除出库记录信息?").then((function(){e.solidSelection=e.multipleSelection;while(0!=e.solidSelection.length)e.withdrawOutRecord(),e.solidSelection.shift();e.$message.success("删除出库记录信息成功!")})).catch((function(t){e.$message.warning("取消删除")}))},deleteOutRecord:function(){var e=this;this.$http({method:"post",url:"api/delete/deleteOutRecord",data:{customer_id:this.solidSelection[0].customer_id,product_name:this.solidSelection[0].product_name,product_sku:this.solidSelection[0].product_sku,out_time:this.solidSelection[0].out_time,out_count:this.solidSelection[0].out_count,record_code:this.solidSelection[0].record_code}}).then((function(t){e.refreshGetAllOutRecord()})).catch((function(t){e.$message.error(t)}))},withdrawOutRecord:function(){var e=this,t="api/update/updateOutRecordWithBox",a={status:"true",customer_id:this.solidSelection[0].customer_id,product_name:this.solidSelection[0].product_name,product_sku:this.solidSelection[0].product_sku,out_count:this.solidSelection[0].out_count,out_time:this.solidSelection[0].out_time,record_code:this.solidSelection[0].record_code};"---"!=this.solidSelection[0].product_sku&&(t="api/update/updateOutRecordWithProduct"),console.log(this.solidSelection[0]),console.log(t),console.log(a),this.$http({method:"post",url:t,data:a}).then((function(t){e.refreshGetAllOutRecord()})).catch((function(t){e.$message.error(t)}))},showAddress:function(e){console.log(e),this.debounce(this.getAddress(e),1e3)},getAddress:function(e){var t=this;this.$http({method:"post",url:"api/query/getAddress",data:{record_code:e.row.record_code}}).then((function(e){console.log(e),t.addressForm=e.data[0],setTimeout((function(){t.addDV=!0}),200)})).catch((function(e){console.log(e)}))}},Object(qe["a"])(Y,"handleClose",(function(){this.addressForm={},this.addDV=!1})),Object(qe["a"])(Y,"getData",(function(){var e=this;this.$http({method:"post",url:"api/query/getOutRecordLocate",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;if("管理员"!=i.out_source)for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))})),Object(qe["a"])(Y,"debounce",(function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)})),Y),watch:{formData:{handler:function(e,t){/[0-9a-z]/i.test(this.formData.customer_info)?(this.locateReqUrl="/api/query/getLocateCustomerId",this.locateReqData={customer_id:e.customer_info}):(this.locateReqUrl="api/query/getLocateCompanyName",this.locateReqData={company_name:e.customer_info}),this.debounce(this.getData,1e3)},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)}},mounted:function(){this.refreshGetAllOutRecord();var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t},created:function(){"管理员"==sessionStorage.getItem("userLevel")||(this.$message.warning("你没有权限使用此功能!"),this.$router.push("/"))}},At=It,Bt=(a("c302"),Object(l["a"])(At,jt,Lt,!1,null,"14605c38",null)),Et=Bt.exports,Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",{staticClass:"content-container"},[a("el-row",[a("el-col",{staticClass:"customer-table",attrs:{span:20}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedqueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"100px"}}),a("el-table-column",{attrs:{align:"center",label:"客户编号",prop:"customer_id"}}),a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name"}}),a("el-table-column",{attrs:{align:"center",label:"首次入库时间",prop:"first_come_time"}}),a("el-table-column",{attrs:{align:"center",label:"自生成密码",prop:"auto_pwd"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:20}},[a("el-pagination",{staticClass:"customer-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-row",{staticClass:"padding_tb padding_lr",attrs:{type:"flex"}},[a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"add-btn",on:{click:e.addDialogOpen}},[e._v("添加")])],1),a("el-col",{attrs:{span:14}},[a("el-button",{attrs:{type:"warning",disabled:e.isForbiddenMod},on:{click:e.modifyDialogOpen}},[e._v("修改")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"danger",disabled:e.isForbiddenDel},on:{click:e.deleteSubmit}},[e._v("删除")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info",plain:""},on:{click:function(t){return e.toggleSelection()}}},[e._v("取消选择")])],1)],1)],1),a("el-dialog",{staticClass:"page-dialog",attrs:{"close-on-click-modal":!1,title:"-添加客户信息-",visible:e.addDV,width:"35%","before-close":e.handleCloseAdd},on:{"update:visible":function(t){e.addDV=t}}},[a("el-form",{ref:"addForm",attrs:{rules:e.addRules,"label-width":"120px"},model:{value:e.addForm,callback:function(t){e.addForm=t},expression:"addForm"}},[a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{label:"客户编号:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch"},model:{value:e.addForm.customer_id,callback:function(t){e.$set(e.addForm,"customer_id",t)},expression:"addForm.customer_id"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{label:"公司名称:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch"},model:{value:e.addForm.company_name,callback:function(t){e.$set(e.addForm,"company_name",t)},expression:"addForm.company_name"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"15px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{label:"首次入库时间:",labelWidth:"150px"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.addForm.first_come_time,callback:function(t){e.$set(e.addForm,"first_come_time",t)},expression:"addForm.first_come_time"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("提 交")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.addDV=!1}}},[e._v("取 消")])],1)],1),a("el-dialog",{staticClass:"page-dialog",attrs:{"close-on-click-modal":!1,title:"-修改客户信息-",visible:e.modifyDV,width:"35%","before-close":e.handleCloseModify},on:{"update:visible":function(t){e.modifyDV=t}}},[a("el-form",{ref:"modifyForm",attrs:{"label-width":"120px"},model:{value:e.modifyForm,callback:function(t){e.modifyForm=t},expression:"modifyForm"}},[a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{label:"客户编号:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch"},model:{value:e.modifyForm.customer_id,callback:function(t){e.$set(e.modifyForm,"customer_id",t)},expression:"modifyForm.customer_id"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{label:"公司名称:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch"},model:{value:e.modifyForm.company_name,callback:function(t){e.$set(e.modifyForm,"company_name",t)},expression:"modifyForm.company_name"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"10px","margin-top":"15px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{label:"首次入库时间:",labelWidth:"150px"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.modifyForm.first_come_time,callback:function(t){e.$set(e.modifyForm,"first_come_time",t)},expression:"modifyForm.first_come_time"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{label:"剩余金额:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.modifyForm.leave_amount,callback:function(t){e.$set(e.modifyForm,"leave_amount",t)},expression:"modifyForm.leave_amount"}})],1)],1)],1),a("el-row",{staticStyle:{"margin-bottom":"25px","margin-top":"25px"},attrs:{type:"flex",justify:"center"}},[a("el-form-item",{attrs:{label:"密码:"}},[a("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:24}},[a("el-input",{model:{value:e.modifyForm.auto_pwd,callback:function(t){e.$set(e.modifyForm,"auto_pwd",t)},expression:"modifyForm.auto_pwd"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.modifySubmit}},[e._v("提 交")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.modifyDV=!1}}},[e._v("取 消")])],1)],1)],1)},Mt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("客户信息表")])])}],Ut={data:function(){return{tableHeight:.65*window.innerHeight,addDV:!1,modifyDV:!1,isForbiddenDel:!0,isForbiddenMod:!0,loading:!1,customer_id_list:[],addNameTipsArray:[],queryPage:{pageSize:10,currentPage:1},queryResData:[],addForm:{customer_id:"",company_name:"",first_come_time:""},modifyForm:{customer_id:"",company_name:"",first_come_time:"",leave_amount:"",auto_pwd:""},multipleSelection:[],solidSelection:[],addRules:{}}},methods:{handleCloseAdd:function(){this.addDV=!1},handleCloseModify:function(){this.modifyDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){0==e.length?(this.isForbiddenDel=!0,this.isForbiddenMod=!0):1==e.length?(this.isForbiddenMod=!1,this.isForbiddenDel=!1):(this.isForbiddenDel=!1,this.isForbiddenMod=!0),this.multipleSelection=e},refreshGetCustomer:function(){var e=this;this.loading=!0,this.$http({method:"get",url:"api/query/getCustomer"}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value;r.first_come_time=Q(r.first_come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,"")}}catch(i){o.e(i)}finally{o.f()}e.queryResData=t.data}else e.$message.warning("未查询到相关数据")}))},modifyDialogOpen:function(){var e=this;this.$http({method:"post",url:"api/query/getSpecificCustomer",data:{customer_id:this.multipleSelection[0].customer_id}}).then((function(t){if(0!=t.data.length){var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value;r.first_come_time=Q(r.first_come_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,"")}}catch(i){o.e(i)}finally{o.f()}console.log(t.data[0]),e.modifyForm=t.data[0],e.modifyDV=!0}else e.$message.error("服务器出错")})).catch((function(t){e.$message.error(t)}))},querySearch:function(e,t){if(""!=this.addForm.customer_id||""!=this.addForm.company_name){var a=this.addNameTipsArray;t(a)}else t([{value:""}])},modifySubmit:function(){this.checkCustomerId("modify")},addDialogOpen:function(){this.addDV=!0},addSubmit:function(){this.checkCustomerId("add")},checkCustomerId:function(e){var t=this;this.$http({method:"post",url:"api/query/getCustomerId",data:{customer_id:this.addForm.customer_id}}).then((function(a){0==a.data.length?"add"==e?t.insertCustomer():"modify"==e&&t.modifyCustomer():t.$message.warning("客户编号已存在，请重新输入！")})).catch((function(e){}))},insertCustomer:function(){var e=this;this.$http({method:"post",url:"api/insert/insertCustomer",data:{customer_id:this.addForm.customer_id,company_name:this.addForm.company_name,first_come_time:this.addForm.first_come_time,leave_amount:"0",auto_pwd:Math.random().toString(16).slice(2,8)}}).then((function(t){e.$message.success("添加客户信息成功!"),e.addDV=!1,e.refreshGetCustomer()})).catch((function(t){e.$message.error(t)}))},modifyCustomer:function(){var e=this;this.$http({method:"post",url:"api/update/updateSpecificCustomer",data:{customer_id:this.modifyForm.customer_id,company_name:this.modifyForm.company_name,first_come_time:this.modifyForm.first_come_time,leave_amount:this.modifyForm.leave_amount,auto_pwd:this.modifyForm.auto_pwd}}).then((function(t){e.$message.success("修改客户信息成功!"),e.modifyDV=!1,e.refreshGetCustomer()})).catch((function(t){e.$message.error(t)}))},deleteCustomer:function(){var e=this;this.$http({method:"post",url:"api/delete/deleteCustomer",data:{customer_id:this.solidSelection[0].customer_id}}).then((function(t){e.refreshGetCustomer()})).catch((function(t){e.$message.error(t)}))},deleteSubmit:function(){var e=this;this.$confirm("确定删除客户信息?").then((function(){e.solidSelection=e.multipleSelection;while(0!=e.solidSelection.length)e.deleteCustomer(),e.solidSelection.shift();e.$message.success("删除客户信息成功!")})).catch((function(t){e.$message.warning("取消删除")}))},getDialogData:function(){var e,t=this;1==this.modifyDV?e=this.modifyForm.customer_id:1==this.addDV&&(e=this.addForm.customer_id),this.$http({method:"post",url:"api/query/getCustomerDialogLocate",data:{customer_info:e}}).then((function(e){if(t.customer_info_list=[],t.customer_id_list=e.data,""!=t.addForm.customer_id){t.addNameTipsArray=[];var a,o=[],r=Object(H["a"])(t.customer_id_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(t.addForm.customer_id)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;t.addNameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(e){t.$message.error(e)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)}},mounted:function(){var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t,this.refreshGetCustomer()},computed:{computedqueryResData:function(){return this.queryResData.slice((this.queryPage.currentPage-1)*this.queryPage.pageSize,this.queryPage.currentPage*this.queryPage.pageSize)}},created:function(){"管理员"==sessionStorage.getItem("userLevel")||(this.$message.warning("你没有权限使用此功能!"),this.$router.push("/home"))},watch:{addForm:{handler:function(e,t){this.debounce(this.getDialogData,1e3)},deep:!0},modifyForm:{handler:function(e,t){this.debounce(this.getDialogData,1e3)},deep:!0}}},Ht=Ut,Qt=Object(l["a"])(Ht,Vt,Mt,!1,null,null,null),Gt=Qt.exports,Yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-container"},[e._m(0),a("div",{staticClass:"content-container"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"客户信息:",prop:"customer_info"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,clearable:"",id:"formSearch",placeholder:"请输入客户编号或公司名称，为空时查询所有"},model:{value:e.formData.customer_info,callback:function(t){e.$set(e.formData,"customer_info",t)},expression:"formData.customer_info"}})],1)],1)],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:e.formSearch}},[e._v("查询")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("formData")}}},[e._v("重置")])],1)],1),a("el-row",{staticStyle:{"padding-top":"5px"}},[a("el-col",{staticClass:"customer-table",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:e.tableHeight,"element-loading-text":"加载中...","element-loading-custom-class":"loading_color","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)","row-style":e.showRow,border:"",stripe:"",data:e.computedQueryResData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"100px"}}),a("el-table-column",{attrs:{align:"center",label:"客户编号",prop:"customer_id"}}),a("el-table-column",{attrs:{align:"center",label:"公司名称",prop:"company_name"}}),a("el-table-column",{attrs:{align:"center",label:"名称",prop:"product_name",width:"270px"}}),a("el-table-column",{attrs:{align:"center",label:"货品SKU",prop:"product_sku"}}),a("el-table-column",{attrs:{align:"center",label:"出库时间",prop:"out_time"}}),a("el-table-column",{attrs:{align:"center",label:"出库数量",prop:"out_count"}}),a("el-table-column",{attrs:{align:"center",label:"操作者",prop:"out_source"}})],1)],1)],1),a("el-row",{staticClass:"padding_tb",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-pagination",{staticClass:"page-pagination",attrs:{background:!0,"current-page":e.queryPage.currentPage,"page-sizes":[5,10,20,50],"page-size":e.queryPage.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryResData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-row",{staticClass:"padding_tb padding_lr",attrs:{type:"flex"}},[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"danger",disabled:e.isDel},on:{click:e.deleteSubmit}},[e._v("删除")])],1)],1)],1)])},Kt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"module-title"},[a("h1",[e._v("出库记录")])])}],Wt={data:function(){return{tableHeight:.65*window.innerHeight,times:0,timer:null,loading:!1,isDel:!0,multipleSelection:[],solidSelection:[],outRecordReqUrl:"",outRecordReqData:{},nameTipsArray:[],formData:{customer_info:""},queryResData:[],customer_info_list:[],queryPage:{pageSize:10,currentPage:1}}},methods:{handleClose:function(){this.addDV=!1},handleSizeChange:function(e){this.queryPage.pageSize=e},handleCurrentChange:function(e){this.queryPage.currentPage=e},showRow:function(e){e.row,e.rowIndwx;var t={"background-color":"#E4F9E5","font-weight":"400","font-size":"15px",color:"#000000"};return t},handleSelectionChange:function(e){console.log(e),0==e.length?this.isDel=!0:this.isDel=!1,this.multipleSelection=e},resetForm:function(e){var t=this.$refs[e];t.resetFields()},formSearch:function(){this.getOutRecord()},querySearch:function(e,t){if(""!=this.formData.customer_info){var a=this.nameTipsArray;t(a)}else t([{value:""}])},getOutRecord:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"api/query/getOutRecordLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],0!=t.data.length){e.queryResData=[],e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value;"true"!=r.status&&(r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),e.queryResData.push(r))}}catch(i){o.e(i)}finally{o.f()}}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},getAllOutRecord:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"/api/query/getOutRecordLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.loading=!1,e.queryResData=[],e.queryResData=[],0!=t.data.length){e.$message.success("查询成功");var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value;"true"!=r.status&&(r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),e.queryResData.push(r))}}catch(i){o.e(i)}finally{o.f()}}else e.$message.warning("未查询到相关数据")})).catch((function(t){e.$message.error(t)}))},refreshGetAllOutRecord:function(){var e=this;this.loading=!0,this.$http({method:"post",url:"/api/query/getOutRecordLocateByTime",data:{customer_info:this.formData.customer_info}}).then((function(t){e.loading=!1,e.queryResData=[],console.log(t),e.queryResData=[];var a,o=Object(H["a"])(t.data);try{for(o.s();!(a=o.n()).done;){var r=a.value;"true"!=r.status&&(r.out_time=Q(r.out_time).slice(0,10).replace(/上|下|中|午|晚|早|凌|晨/g,""),e.queryResData.push(r))}}catch(i){o.e(i)}finally{o.f()}})).catch((function(t){e.$message.error(t)}))},deleteSubmit:function(){var e=this;this.$confirm("确定删除出库记录信息?").then((function(){e.solidSelection=e.multipleSelection;while(0!=e.solidSelection.length)e.withdrawOutRecord(),e.solidSelection.shift();e.$message.success("删除出库记录信息成功!")})).catch((function(t){e.$message.warning("取消删除")}))},deleteOutRecord:function(){var e=this;this.$http({method:"post",url:"api/delete/deleteOutRecord",data:{customer_id:this.solidSelection[0].customer_id,product_name:this.solidSelection[0].product_name,product_sku:this.solidSelection[0].product_sku,out_time:this.solidSelection[0].out_time,out_count:this.solidSelection[0].out_count,record_code:this.solidSelection[0].record_code}}).then((function(t){e.refreshGetAllOutRecord()})).catch((function(t){e.$message.error(t)}))},withdrawOutRecord:function(){var e=this,t="api/update/updateOutRecordWithBox",a={status:"true",customer_id:this.solidSelection[0].customer_id,product_name:this.solidSelection[0].product_name,product_sku:this.solidSelection[0].product_sku,out_count:this.solidSelection[0].out_count,out_time:this.solidSelection[0].out_time,record_code:this.solidSelection[0].record_code};"---"!=this.solidSelection[0].product_sku&&(t="api/update/updateOutRecordWithProduct"),console.log(this.solidSelection[0]),console.log(t),console.log(a),this.$http({method:"post",url:t,data:a}).then((function(t){e.refreshGetAllOutRecord()})).catch((function(t){e.$message.error(t)}))},getData:function(){var e=this;this.$http({method:"post",url:"api/query/getOutRecordLocate",data:{customer_info:this.formData.customer_info}}).then((function(t){if(e.customer_info_list=t.data,""!=e.formData.customer_info){e.nameTipsArray=[];var a,o=[],r=Object(H["a"])(e.customer_info_list);try{for(r.s();!(a=r.n()).done;){var i=a.value,n=0;for(var s in i)if(-1!=String(i[s]).indexOf(e.formData.customer_info)){var l,c=Object(H["a"])(o);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(u==i[s]){n=1;break}}}catch(d){c.e(d)}finally{c.f()}if(0!=n)continue;e.nameTipsArray.push({value:String(i[s])}),o.push(String(i[s]))}}}catch(d){r.e(d)}finally{r.f()}}})).catch((function(t){e.$message.error(t)}))},debounce:function(e,t){clearTimeout(this.timer),this.timer=setTimeout((function(){e()}),t)}},watch:{formData:{handler:function(e,t){/[0-9a-z]/i.test(this.formData.customer_info)?(this.locateReqUrl="/api/query/getLocateCustomerId",this.locateReqData={customer_id:e.customer_info}):(this.locateReqUrl="api/query/getLocateCompanyName",this.locateReqData={company_name:e.customer_info}),this.debounce(this.getData,1e3)},deep:!0}},computed:{computedQueryResData:function(){var e=this.queryPage.pageSize,t=this.queryPage.currentPage;return this.queryResData.slice(e*(t-1),e*t)}},mounted:function(){this.refreshGetAllOutRecord();var e=new Date;e.setTime(e.getTime());var t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.today_date=t},created:function(){"管理员"==sessionStorage.getItem("userLevel")||(this.$message.warning("你没有权限使用此功能!"),this.$router.push("/"))}},Zt=Wt,Jt=(a("3b71"),Object(l["a"])(Zt,Yt,Kt,!1,null,"298db8b6",null)),Xt=Jt.exports;o["default"].use(d["a"]);var ea=[{path:"/",name:"Login",component:j},{path:"/home",name:"Home",component:R,children:[{path:"/",component:V},{path:"/payCenter",component:J},{path:"/orderCenter",component:Et},{path:"/productCome",component:re},{path:"/productList",component:ue},{path:"/productOut",component:fe},{path:"/productOutList",component:we},{path:"/boxCome",component:Re},{path:"/boxList",component:Ne},{path:"/boxOut",component:Ee},{path:"/boxOutList",component:Ge},{path:"/possessSystem",component:Nt},{path:"/customerManage",component:Gt},{path:"/outRecord",component:Xt},{path:"/cusProductList",component:Xe},{path:"/onlyReadProductCome",component:it},{path:"/onlyReadProductList",component:dt},{path:"/onlyReadBoxCome",component:_t},{path:"/onlyReadBoxList",component:St},{path:"/onlyReadOutRecord",component:Rt}]}],ta=new d["a"]({mode:"history",base:"/",routes:ea}),aa=ta,oa=a("2f62");Window.Vue=o["default"],o["default"].use(oa["a"]);var ra=new oa["a"].Store({state:{deleteCustomerSql:"123"},mutations:{},actions:{},modules:{}}),ia=ra,na=a("bc3a"),sa=a.n(na),la=(a("4942"),a("0fae"),a("46a1"),a("450d"),a("e5f2")),ca=a.n(la),ua=(a("9e1f"),a("6ed5")),da=a.n(ua),ma=(a("0fb7"),a("f529")),ha=a.n(ma),pa=(a("3c52"),a("0d7b")),ga=a.n(pa),fa=(a("fe07"),a("6ac5")),_a=a.n(fa),ya=(a("ce18"),a("f58e")),ba=a.n(ya),va=(a("34db"),a("3803")),Da=a.n(va),wa=(a("8bd8"),a("4cb2")),Sa=a.n(wa),xa=(a("4ca3"),a("443e")),qa=a.n(xa),Fa=(a("915d"),a("e04d")),$a=a.n(Fa),Ca=(a("920a"),a("4f0c")),Ra=a.n(Ca),ka=(a("672e"),a("101e")),Pa=a.n(ka),Oa=(a("1951"),a("eedf")),Ta=a.n(Oa),za=(a("5466"),a("ecdf")),Na=a.n(za),ja=(a("38a0"),a("ad41")),La=a.n(ja),Ia=(a("eca7"),a("3787")),Aa=a.n(Ia),Ba=(a("425f"),a("4105")),Ea=a.n(Ba),Va=(a("78a7"),a("33ca")),Ma=a.n(Va),Ua=(a("f225"),a("89a9")),Ha=a.n(Ua),Qa=(a("826b"),a("c263")),Ga=a.n(Qa),Ya=(a("6b30"),a("c284")),Ka=a.n(Ya),Wa=(a("560b"),a("dcdc")),Za=a.n(Wa),Ja=(a("f4f9"),a("c2cc")),Xa=a.n(Ja),eo=(a("7a0f"),a("0f6c")),to=a.n(eo),ao=(a("a7cc"),a("df33")),oo=a.n(ao),ro=(a("b5d8"),a("f494")),io=a.n(ro),no=(a("9d4c"),a("e450")),so=a.n(no),lo=(a("10cb"),a("f3ad")),co=a.n(lo),uo=(a("e3ea"),a("7bc3")),mo=a.n(uo),ho=(a("96dc"),a("9cea")),po=a.n(ho),go=(a("fd71"),a("a447")),fo=a.n(go),_o=(a("186a"),a("301f")),yo=a.n(_o),bo=(a("6611"),a("e772")),vo=a.n(bo),Do=(a("1f1a"),a("4e4b")),wo=a.n(Do),So=(a("8f24"),a("76b9")),xo=a.n(So),qo=(a("b84d"),a("c216")),Fo=a.n(qo),$o=(a("be4f"),a("896a")),Co=a.n($o),Ro=(a("3db2"),a("58b8")),ko=a.n(Ro),Po={install:function(e){e.use(ko.a),e.use(Co.a),e.use(Fo.a),e.use(xo.a),e.use(wo.a),e.use(vo.a),e.use(yo.a),e.use(fo.a),e.use(po.a),e.use(mo.a),e.use(co.a),e.use(so.a),e.use(io.a),e.use(oo.a),e.use(to.a),e.use(Xa.a),e.use(Za.a),e.use(Ka.a),e.use(Ga.a),e.use(Ha.a),e.use(Ma.a),e.use(Ea.a),e.use(Aa.a),e.use(La.a),e.use(Na.a),e.use(Ta.a),e.use(Ka.a),e.use(Pa.a),e.use(Ra.a),e.use($a.a),e.use(Ma.a),e.use(qa.a),e.use(Sa.a),e.use(Da.a),e.use(ba.a),e.use(_a.a),e.use(ga.a),e.prototype.$message=ha.a,e.prototype.$confirm=da.a.confirm,e.prototype.$alert=da.a.alert,e.prototype.$notify=ca.a}},Oo=Po;o["default"].use(Oo),o["default"].prototype.$http=sa.a,o["default"].config.productionTip=!1,o["default"].mixin({}),new o["default"]({router:aa,store:ia,render:function(e){return e(u)}}).$mount("#app")},"601e":function(e,t,a){"use strict";a("5429")},6022:function(e,t,a){"use strict";a("1ba6")},"6eca":function(e,t,a){"use strict";a("ff66")},"6fb4":function(e,t,a){"use strict";a("71b6")},"71b6":function(e,t,a){},"7c55":function(e,t,a){"use strict";a("2395")},8235:function(e,t,a){},8444:function(e,t,a){"use strict";a("1da5")},"8bda":function(e,t,a){},9375:function(e,t,a){},"9b67":function(e,t,a){},ae34:function(e,t,a){"use strict";a("eb99")},c302:function(e,t,a){"use strict";a("9375")},c9f0:function(e,t,a){"use strict";a("08ba")},d1a3:function(e,t,a){"use strict";a("01f1")},dfbd:function(e,t,a){a("d3b7"),a("25f0");var o=a("3452"),r="topdbjiu";function i(e){var t=o.AES.encrypt(e,o.enc.Utf8.parse(r),{mode:o.mode.ECB,padding:o.pad.Pkcs7});return console.log(String(t)),String(t)}function n(e){var t=o.AES.decrypt(e,o.enc.Utf8.parse(r),{mode:o.mode.ECB,padding:o.pad.Pkcs7});return console.log(t.toString(o.enc.Utf8)),t.toString(o.enc.Utf8)}n("GjYMY7yt9PYqq4e/LmzGvg=="),n("62DDofPMItWN4kafTHCPMA=="),n("oClp9gLUmhDzXBuBtydzlQ=="),e.exports={encryptPwd:i,decryptPwd:n}},eb99:function(e,t,a){},ee93:function(e,t,a){},f547:function(e,t,a){},f824:function(e,t,a){},faae:function(e,t,a){"use strict";a("f824")},fc69:function(e,t,a){},ff66:function(e,t,a){}});
//# sourceMappingURL=app.e4b1250d.js.map